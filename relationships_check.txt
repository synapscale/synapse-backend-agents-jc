🔍 Verificando relacionamentos no schema synapscale_db...

📊 Total de relacionamentos encontrados: 236
  ✓ agent_acl.agent_id -> agents.id
  ✓ agent_acl.user_id -> users.id
  ✓ agent_configurations.created_by -> users.id
  ✓ agent_configurations.agent_id -> agents.id
  ✓ agent_error_logs.agent_id -> agents.id
  ✓ agent_hierarchy.descendant -> agents.id
  ✓ agent_hierarchy.ancestor -> agents.id
  ✓ agent_kbs.agent_id -> agents.id
  ✓ agent_kbs.kb_id -> knowledge_bases.kb_id
  ✓ agent_models.agent_id -> agents.id
  ✓ agent_models.llm_id -> llms.id
  ✓ agent_quotas.agent_id -> agents.id
  ✓ agent_quotas.tenant_id -> tenants.id
  ✓ agent_tools.agent_id -> agents.id
  ✓ agent_tools.tool_id -> tools.tool_id
  ✓ agent_triggers.agent_id -> agents.id
  ✓ agent_usage_metrics.agent_id -> agents.id
  ✓ agents.user_id -> users.id
  ✓ agents.current_config -> agent_configurations.config_id
  ✓ agents.workspace_id -> workspaces.id
  ✓ agents.tenant_id -> tenants.id
  ✓ analytics_alerts.owner_id -> users.id
  ✓ analytics_alerts.tenant_id -> tenants.id
  ✓ analytics_dashboards.user_id -> users.id
  ✓ analytics_dashboards.tenant_id -> tenants.id
  ✓ analytics_events.project_id -> workspace_projects.id
  ✓ analytics_events.tenant_id -> tenants.id
  ✓ analytics_events.user_id -> users.id
  ✓ analytics_exports.tenant_id -> tenants.id
  ✓ analytics_exports.owner_id -> users.id
  ✓ analytics_metrics.tenant_id -> tenants.id
  ✓ analytics_reports.tenant_id -> tenants.id
  ✓ analytics_reports.owner_id -> users.id
  ✓ audit_log.changed_by -> users.id
  ✓ billing_events.user_id -> users.id
  ✓ billing_events.related_message_id -> llms_messages.id
  ✓ billing_events.related_usage_log_id -> llms_usage_logs.id
  ✓ billing_events.workspace_id -> workspaces.id
  ✓ billing_events.tenant_id -> tenants.id
  ✓ business_metrics.tenant_id -> tenants.id
  ✓ campaign_contacts.tenant_id -> tenants.id
  ✓ campaign_contacts.campaign_id -> campaigns.id
  ✓ campaign_contacts.contact_id -> contacts.id
  ✓ campaigns.tenant_id -> tenants.id
  ✓ campaigns.created_by -> users.id
  ✓ component_downloads.user_id -> users.id
  ✓ component_downloads.tenant_id -> tenants.id
  ✓ component_downloads.component_id -> marketplace_components.id
  ✓ component_purchases.component_id -> marketplace_components.id
  ✓ component_purchases.tenant_id -> tenants.id
  ✓ component_purchases.user_id -> users.id
  ✓ component_ratings.component_id -> marketplace_components.id
  ✓ component_ratings.user_id -> users.id
  ✓ component_ratings.tenant_id -> tenants.id
  ✓ component_versions.component_id -> marketplace_components.id
  ✓ component_versions.tenant_id -> tenants.id
  ✓ contact_events.contact_id -> contacts.id
  ✓ contact_events.tenant_id -> tenants.id
  ✓ contact_interactions.contact_id -> contacts.id
  ✓ contact_interactions.tenant_id -> tenants.id
  ✓ contact_interactions.user_id -> users.id
  ✓ contact_list_memberships.tenant_id -> tenants.id
  ✓ contact_list_memberships.added_by -> users.id
  ✓ contact_list_memberships.contact_id -> contacts.id
  ✓ contact_list_memberships.list_id -> contact_lists.id
  ✓ contact_lists.tenant_id -> tenants.id
  ✓ contact_notes.contact_id -> contacts.id
  ✓ contact_notes.tenant_id -> tenants.id
  ✓ contact_notes.user_id -> users.id
  ✓ contact_sources.tenant_id -> tenants.id
  ✓ contact_tags.tenant_id -> tenants.id
  ✓ contacts.tenant_id -> tenants.id
  ✓ contacts.source_id -> contact_sources.id
  ✓ conversion_journeys.contact_id -> contacts.id
  ✓ conversion_journeys.tenant_id -> tenants.id
  ✓ coupons.created_by -> users.id
  ✓ coupons.tenant_id -> tenants.id
  ✓ custom_reports.workspace_id -> workspaces.id
  ✓ custom_reports.user_id -> users.id
  ✓ custom_reports.tenant_id -> tenants.id
  ✓ email_verification_tokens.user_id -> users.id
  ✓ files.tenant_id -> tenants.id
  ✓ files.user_id -> users.id
  ✓ invoices.tenant_id -> tenants.id
  ✓ invoices.subscription_id -> subscriptions.id
  ✓ llms.tenant_id -> tenants.id
  ✓ llms_conversations.agent_id -> agents.id
  ✓ llms_conversations.workspace_id -> workspaces.id
  ✓ llms_conversations.tenant_id -> tenants.id
  ✓ llms_conversations.user_id -> users.id
  ✓ llms_conversations.agent_id -> agents.id
  ✓ llms_conversations_turns.llm_id -> llms.id
  ✓ llms_conversations_turns.tenant_id -> tenants.id
  ✓ llms_conversations_turns.conversation_id -> llms_conversations.id
  ✓ llms_conversations_turns.llm_id -> llms.id
  ✓ llms_conversations_turns.conversation_id -> llms_conversations.id
  ✓ llms_messages.conversation_id -> llms_conversations.id
  ✓ llms_messages.tenant_id -> tenants.id
  ✓ llms_messages.conversation_id -> llms_conversations.id
  ✓ llms_usage_logs.message_id -> llms_messages.id
  ✓ llms_usage_logs.message_id -> llms_messages.id
  ✓ llms_usage_logs.llm_id -> llms.id
  ✓ llms_usage_logs.conversation_id -> llms_conversations.id
  ✓ llms_usage_logs.tenant_id -> tenants.id
  ✓ llms_usage_logs.llm_id -> llms.id
  ✓ llms_usage_logs.workspace_id -> workspaces.id
  ✓ llms_usage_logs.conversation_id -> llms_conversations.id
  ✓ llms_usage_logs.user_id -> users.id
  ✓ marketplace_components.author_id -> users.id
  ✓ marketplace_components.tenant_id -> tenants.id
  ✓ message_feedbacks.user_id -> users.id
  ✓ message_feedbacks.message_id -> llms_messages.id
  ✓ message_feedbacks.user_id -> users.id
  ✓ message_feedbacks.tenant_id -> tenants.id
  ✓ message_feedbacks.message_id -> llms_messages.id
  ✓ node_categories.parent_id -> node_categories.id
  ✓ node_categories.tenant_id -> tenants.id
  ✓ node_executions.tenant_id -> tenants.id
  ✓ node_executions.workflow_execution_id -> workflow_executions.id
  ✓ node_ratings.node_id -> nodes.id
  ✓ node_ratings.user_id -> users.id
  ✓ node_ratings.tenant_id -> tenants.id
  ✓ node_templates.tenant_id -> tenants.id
  ✓ nodes.workspace_id -> workspaces.id
  ✓ nodes.user_id -> users.id
  ✓ nodes.tenant_id -> tenants.id
  ✓ password_reset_tokens.user_id -> users.id
  ✓ payment_customers.provider_id -> payment_providers.id
  ✓ payment_customers.tenant_id -> tenants.id
  ✓ payment_methods.tenant_id -> tenants.id
  ✓ payment_methods.customer_id -> payment_customers.id
  ✓ payment_providers.tenant_id -> tenants.id
  ✓ plan_entitlements.feature_id -> features.id
  ✓ plan_entitlements.plan_id -> plans.id
  ✓ plan_entitlements.tenant_id -> tenants.id
  ✓ plan_features.plan_id -> plans.id
  ✓ plan_features.feature_id -> features.id
  ✓ plan_provider_mappings.plan_id -> plans.id
  ✓ plan_provider_mappings.provider_id -> payment_providers.id
  ✓ plan_provider_mappings.tenant_id -> tenants.id
  ✓ project_collaborators.user_id -> users.id
  ✓ project_collaborators.tenant_id -> tenants.id
  ✓ project_comments.tenant_id -> tenants.id
  ✓ project_comments.parent_id -> project_comments.id
  ✓ project_comments.user_id -> users.id
  ✓ project_versions.user_id -> users.id
  ✓ project_versions.project_id -> workspace_projects.id
  ✓ project_versions.tenant_id -> tenants.id
  ✓ rbac_permissions.tenant_id -> tenants.id
  ✓ rbac_role_permissions.permission_id -> rbac_permissions.id
  ✓ rbac_role_permissions.tenant_id -> tenants.id
  ✓ rbac_role_permissions.role_id -> rbac_roles.id
  ✓ rbac_roles.tenant_id -> tenants.id
  ✓ refresh_tokens.user_id -> users.id
  ✓ report_executions.tenant_id -> tenants.id
  ✓ report_executions.report_id -> custom_reports.id
  ✓ report_executions.user_id -> users.id
  ✓ subscriptions.payment_method_id -> payment_methods.id
  ✓ subscriptions.provider_id -> payment_providers.id
  ✓ subscriptions.tenant_id -> tenants.id
  ✓ subscriptions.plan_id -> plans.id
  ✓ subscriptions.coupon_id -> coupons.id
  ✓ system_performance_metrics.tenant_id -> tenants.id
  ✓ tags.created_by_user_id -> users.id
  ✓ tags.tenant_id -> tenants.id
  ✓ template_collections.creator_id -> users.id
  ✓ template_collections.tenant_id -> tenants.id
  ✓ template_downloads.template_id -> workflow_templates.id
  ✓ template_downloads.user_id -> users.id
  ✓ template_downloads.tenant_id -> tenants.id
  ✓ template_favorites.template_id -> workflow_templates.id
  ✓ template_favorites.user_id -> users.id
  ✓ template_favorites.tenant_id -> tenants.id
  ✓ template_reviews.tenant_id -> tenants.id
  ✓ template_reviews.template_id -> workflow_templates.id
  ✓ template_reviews.user_id -> users.id
  ✓ template_usage.template_id -> workflow_templates.id
  ✓ template_usage.tenant_id -> tenants.id
  ✓ template_usage.user_id -> users.id
  ✓ template_usage.workflow_id -> workflows.id
  ✓ tenant_features.feature_id -> features.id
  ✓ tenant_features.tenant_id -> tenants.id
  ✓ tenants.plan_id -> plans.id
  ✓ user_behavior_metrics.user_id -> users.id
  ✓ user_behavior_metrics.tenant_id -> tenants.id
  ✓ user_insights.tenant_id -> tenants.id
  ✓ user_insights.user_id -> users.id
  ✓ user_subscriptions.user_id -> users.id
  ✓ user_subscriptions.tenant_id -> tenants.id
  ✓ user_subscriptions.plan_id -> plans.id
  ✓ user_tenant_roles.role_id -> rbac_roles.id
  ✓ user_tenant_roles.granted_by -> users.id
  ✓ user_tenant_roles.tenant_id -> tenants.id
  ✓ user_tenant_roles.user_id -> users.id
  ✓ user_variables.user_id -> users.id
  ✓ user_variables.tenant_id -> tenants.id
  ✓ users.tenant_id -> tenants.id
  ✓ webhook_logs.provider_id -> payment_providers.id
  ✓ webhook_logs.tenant_id -> tenants.id
  ✓ workflow_connections.source_node_id -> workflow_nodes.id
  ✓ workflow_connections.target_node_id -> workflow_nodes.id
  ✓ workflow_connections.tenant_id -> tenants.id
  ✓ workflow_connections.workflow_id -> workflows.id
  ✓ workflow_execution_metrics.tenant_id -> tenants.id
  ✓ workflow_execution_queue.tenant_id -> tenants.id
  ✓ workflow_execution_queue.user_id -> users.id
  ✓ workflow_execution_queue.workflow_execution_id -> workflow_executions.id
  ✓ workflow_executions.workflow_id -> workflows.id
  ✓ workflow_executions.user_id -> users.id
  ✓ workflow_executions.tenant_id -> tenants.id
  ✓ workflow_nodes.workflow_id -> workflows.id
  ✓ workflow_nodes.tenant_id -> tenants.id
  ✓ workflow_templates.original_workflow_id -> workflows.id
  ✓ workflow_templates.tenant_id -> tenants.id
  ✓ workflow_templates.author_id -> users.id
  ✓ workflows.user_id -> users.id
  ✓ workflows.workspace_id -> workspaces.id
  ✓ workflows.tenant_id -> tenants.id
  ✓ workspace_activities.user_id -> users.id
  ✓ workspace_activities.workspace_id -> workspaces.id
  ✓ workspace_activities.tenant_id -> tenants.id
  ✓ workspace_features.workspace_id -> workspaces.id
  ✓ workspace_features.tenant_id -> tenants.id
  ✓ workspace_features.feature_id -> features.id
  ✓ workspace_invitations.tenant_id -> tenants.id
  ✓ workspace_invitations.workspace_id -> workspaces.id
  ✓ workspace_invitations.invited_user_id -> users.id
  ✓ workspace_invitations.inviter_id -> users.id
  ✓ workspace_members.workspace_id -> workspaces.id
  ✓ workspace_members.user_id -> users.id
  ✓ workspace_members.tenant_id -> tenants.id
  ✓ workspace_projects.tenant_id -> tenants.id
  ✓ workspace_projects.workflow_id -> workflows.id
  ✓ workspace_projects.workspace_id -> workspaces.id
  ✓ workspaces.tenant_id -> tenants.id
  ✓ workspaces.owner_id -> users.id
