{
  "timestamp": "2025-07-07T19:15:17.789497",
  "execution_time_seconds": 9.598414,
  "health_score": 77.77777777777779,
  "status": "BOM",
  "summary": {
    "total_checks": 9,
    "successful_checks": 7,
    "warnings": 2,
    "errors": 0
  },
  "detailed_results": {
    "environment_vars": false,
    "database_connection": true,
    "database_checks": {
      "check_all_schemas": {
        "success": true,
        "stdout": "🔍 Verificando todos os schemas...\n\n📊 Schemas disponíveis: ['Banco_De_Dados', 'airbyte_internal', 'banco_de_dados', 'banco_de_dados_jc', 'joaocastanheira_bancodedados', 'modelo_saas_inicial', 'public', 'synapscale_db']\n\n🔸 Schema: Banco_De_Dados\n   Total: 0 tabelas\n\n🔸 Schema: airbyte_internal\n   Total: 0 tabelas\n\n🔸 Schema: banco_de_dados\n   Total: 57 tabelas\n   ✓ platform_commission\n   ✓ platform_commission_participants\n   ✓ platform_commission_participants_doc\n   ✓ platform_sale\n   ✓ platform_sale_client\n   ✓ platform_sale_client_address\n   ✓ platform_sale_client_history\n   ✓ platform_sale_client_platform_id\n   ✓ platform_sale_offer_history\n   ✓ platform_software_invoice_history\n   ✓ platform_status\n   ✓ platform_subscription\n   ✓ platform_subscription__recurrency_history\n   ✓ platform_transaction_commission\n   ✓ platform_transaction_fee\n   ✓ platform_transaction_fee_history\n   ✓ platform_transaction_invoice\n   ✓ platform_transaction_offer\n   ✓ platform_transaction_payment\n   ✓ platform_transaction_payment_history\n   ✓ platform_transaction_plan\n   ✓ platform_transaction_plan_history\n   ✓ platform_transaction_product\n   ✓ platform_transaction_status\n   ✓ platform_transaction_utm\n   ✓ platform_utm_history\n   ✓ vw_assinaturas_ativas_por_plataforma\n   ✓ vw_assinaturas_novas_vs_canceladas\n   ✓ vw_churn_rate_30_dias\n   ✓ vw_clientes_inativos_90_dias\n   ✓ vw_clientes_novos_por_mes\n   ✓ vw_clientes_por_cidade\n   ✓ vw_clientes_por_completude_de_cadastro\n   ✓ vw_clientes_recorrentes\n   ✓ vw_clientes_top_10_por_ticket\n   ✓ vw_comissoes_por_tipo_participante\n   ✓ vw_comissoes_totais_por_participante\n   ✓ vw_cupons_mais_utilizados\n   ✓ vw_evolucao_faturamento\n   ✓ vw_faturamento_por_mes\n   ✓ vw_faturamento_resumido\n   ✓ vw_mrr_arr_por_billing_type\n   ✓ vw_participantes_com_mais_transacoes\n   ✓ vw_planos_mais_adquiridos\n   ✓ vw_produtos_mais_vendidos\n   ✓ vw_receita_por_utm_campaign\n   ✓ vw_receita_por_utm_source\n   ✓ vw_receita_por_utm_term\n   ✓ vw_receita_total_por_produto\n   ✓ vw_roi_liquido_empresa\n   ✓ vw_taxa_chargeback\n   ✓ vw_tempo_medio_aprovacao_pagamentos\n   ✓ vw_tempo_medio_de_vida_assinatura\n   ✓ vw_tentativas_com_retry_agendado\n   ✓ vw_ticket_medio_por_tipo\n   ✓ vw_vendas_com_problemas\n   ✓ vw_vendas_por_utm_content\n\n🔸 Schema: banco_de_dados_jc\n   Total: 18 tabelas\n   ✓ comissoes_vendas_na_hotmart\n   ✓ contatos_activecampaign\n   ✓ detalhes_precos_vendas_na_hotmart\n   ✓ dim_cliente\n   ✓ dim_produto\n   ✓ fact_acessos_cademi\n   ✓ fact_pesquisas\n   ✓ fact_vendas\n   ✓ map_produtos\n   ✓ mapa_produtos\n   ✓ sufixos\n   ✓ tmp_consolidado_produtos\n   ✓ vendas_hotmart\n   ✓ vendas_kiwify\n   ✓ vendas_na_hotmart\n   ✓ vendas_na_kiwify\n   ✓ vendas_payt\n   ✓ vw_central_joaocastanheira\n\n🔸 Schema: joaocastanheira_bancodedados\n   Total: 24 tabelas\n   ✓ addresses\n   ✓ api_field_mapping\n   ✓ commission_participants\n   ✓ customer_external_ids\n   ✓ customer_logs\n   ✓ customers\n   ✓ offers\n   ✓ participant_addresses\n   ✓ plans\n   ✓ platform_commission\n   ✓ platform_sale_offer_history\n   ✓ platform_software_invoice_history\n   ✓ platform_transaction_payment_history\n   ✓ platform_utm_history\n   ✓ products\n   ✓ subscription_status_history\n   ✓ subscriptions\n   ✓ subscriptions_summary\n   ✓ transaction_fees\n   ✓ transaction_items\n   ✓ transaction_status_history\n   ✓ transaction_statuses\n   ✓ transactions\n   ✓ vw_customers_with_platform_ids\n\n🔸 Schema: modelo_saas_inicial\n   Total: 31 tabelas\n   ✓ campaign_contacts\n   ✓ campaigns\n   ✓ contact_events\n   ✓ contact_interactions\n   ✓ contact_list_memberships\n   ✓ contact_lists\n   ✓ contact_notes\n   ✓ contact_sources\n   ✓ contact_tags\n   ✓ contacts\n   ✓ conversion_journeys\n   ✓ coupons\n   ✓ features\n   ✓ invoices\n   ✓ payment_customers\n   ✓ payment_methods\n   ✓ payment_providers\n   ✓ permissions\n   ✓ plan_entitlements\n   ✓ plan_features\n   ✓ plan_provider_mappings\n   ✓ plans\n   ✓ role_permissions\n   ✓ roles\n   ✓ subscriptions\n   ✓ tenants\n   ✓ users\n   ✓ webhook_logs\n   ✓ workspace_features\n   ✓ workspace_members\n   ✓ workspaces\n\n🔸 Schema: public\n   Total: 91 tabelas\n   ✓ agents\n   ✓ alembic_version\n   ✓ analytics_alerts\n   ✓ analytics_dashboards\n   ✓ analytics_events\n   ✓ analytics_exports\n   ✓ analytics_metrics\n   ✓ analytics_reports\n   ✓ billing_events\n   ✓ business_metrics\n   ✓ campaign_contacts\n   ✓ campaigns\n   ✓ component_downloads\n   ✓ component_purchases\n   ✓ component_ratings\n   ✓ component_versions\n   ✓ contact_events\n   ✓ contact_interactions\n   ✓ contact_list_memberships\n   ✓ contact_lists\n   ✓ contact_notes\n   ✓ contact_sources\n   ✓ contact_tags\n   ✓ contacts\n   ✓ conversion_journeys\n   ✓ coupons\n   ✓ custom_reports\n   ✓ email_verification_tokens\n   ✓ features\n   ✓ files\n   ✓ invoices\n   ✓ llms\n   ✓ llms_conversations\n   ✓ llms_conversations_turns\n   ✓ llms_message_feedbacks\n   ✓ llms_messages\n   ✓ llms_usage_logs\n   ✓ marketplace_components\n   ✓ node_categories\n   ✓ node_executions\n   ✓ node_ratings\n   ✓ node_templates\n   ✓ nodes\n   ✓ password_reset_tokens\n   ✓ payment_customers\n   ✓ payment_methods\n   ✓ payment_providers\n   ✓ performance_metrics\n   ✓ plan_entitlements\n   ✓ plan_features\n   ✓ plan_provider_mappings\n   ✓ plans\n   ✓ project_collaborators\n   ✓ project_comments\n   ✓ project_versions\n   ✓ rbac_permissions\n   ✓ rbac_role_permissions\n   ✓ rbac_roles\n   ✓ refresh_tokens\n   ✓ report_executions\n   ✓ subscriptions\n   ✓ system_health_overview\n   ✓ system_performance_metrics\n   ✓ tags\n   ✓ template_collections\n   ✓ template_downloads\n   ✓ template_favorites\n   ✓ template_reviews\n   ✓ template_usage\n   ✓ tenant_features\n   ✓ tenants\n   ✓ user_behavior_metrics\n   ✓ user_insights\n   ✓ user_subscriptions\n   ✓ user_tenant_roles\n   ✓ user_variables\n   ✓ users\n   ✓ webhook_logs\n   ✓ workflow_connections\n   ✓ workflow_execution_metrics\n   ✓ workflow_execution_queue\n   ✓ workflow_executions\n   ✓ workflow_nodes\n   ✓ workflow_templates\n   ✓ workflows\n   ✓ workspace_activities\n   ✓ workspace_features\n   ✓ workspace_invitations\n   ✓ workspace_members\n   ✓ workspace_projects\n   ✓ workspaces\n\n🔸 Schema: synapscale_db\n   Total: 103 tabelas\n   ✓ agent_acl\n   ✓ agent_configurations\n   ✓ agent_error_logs\n   ✓ agent_hierarchy\n   ✓ agent_kbs\n   ✓ agent_models\n   ✓ agent_quotas\n   ✓ agent_tools\n   ✓ agent_triggers\n   ✓ agent_usage_metrics\n   ✓ agents\n   ✓ alembic_version\n   ✓ analytics_alerts\n   ✓ analytics_dashboards\n   ✓ analytics_events\n   ✓ analytics_exports\n   ✓ analytics_metrics\n   ✓ analytics_reports\n   ✓ audit_log\n   ✓ billing_events\n   ✓ business_metrics\n   ✓ campaign_contacts\n   ✓ campaigns\n   ✓ component_downloads\n   ✓ component_purchases\n   ✓ component_ratings\n   ✓ component_versions\n   ✓ contact_events\n   ✓ contact_interactions\n   ✓ contact_list_memberships\n   ✓ contact_lists\n   ✓ contact_notes\n   ✓ contact_sources\n   ✓ contact_tags\n   ✓ contacts\n   ✓ conversion_journeys\n   ✓ coupons\n   ✓ custom_reports\n   ✓ email_verification_tokens\n   ✓ features\n   ✓ files\n   ✓ invoices\n   ✓ knowledge_bases\n   ✓ llms\n   ✓ llms_conversations\n   ✓ llms_conversations_turns\n   ✓ llms_messages\n   ✓ llms_usage_logs\n   ✓ marketplace_components\n   ✓ message_feedbacks\n   ✓ node_categories\n   ✓ node_executions\n   ✓ node_ratings\n   ✓ node_templates\n   ✓ nodes\n   ✓ password_reset_tokens\n   ✓ payment_customers\n   ✓ payment_methods\n   ✓ payment_providers\n   ✓ plan_entitlements\n   ✓ plan_features\n   ✓ plan_provider_mappings\n   ✓ plans\n   ✓ project_collaborators\n   ✓ project_comments\n   ✓ project_versions\n   ✓ rbac_permissions\n   ✓ rbac_role_permissions\n   ✓ rbac_roles\n   ✓ refresh_tokens\n   ✓ report_executions\n   ✓ subscriptions\n   ✓ system_health\n   ✓ system_performance_metrics\n   ✓ tags\n   ✓ template_collections\n   ✓ template_downloads\n   ✓ template_favorites\n   ✓ template_reviews\n   ✓ template_usage\n   ✓ tenant_features\n   ✓ tenants\n   ✓ tools\n   ✓ user_behavior_metrics\n   ✓ user_insights\n   ✓ user_subscriptions\n   ✓ user_tenant_roles\n   ✓ user_variables\n   ✓ users\n   ✓ webhook_logs\n   ✓ workflow_connections\n   ✓ workflow_execution_metrics\n   ✓ workflow_execution_queue\n   ✓ workflow_executions\n   ✓ workflow_nodes\n   ✓ workflow_templates\n   ✓ workflows\n   ✓ workspace_activities\n   ✓ workspace_features\n   ✓ workspace_invitations\n   ✓ workspace_members\n   ✓ workspace_projects\n   ✓ workspaces\n",
        "stderr": "",
        "returncode": 0,
        "execution_time": 1751926511.673124
      },
      "check_relationships": {
        "success": true,
        "stdout": "🔍 Verificando relacionamentos no schema synapscale_db...\n\n📊 Total de relacionamentos encontrados: 236\n  ✓ agent_acl.agent_id -> agents.id\n  ✓ agent_acl.user_id -> users.id\n  ✓ agent_configurations.created_by -> users.id\n  ✓ agent_configurations.agent_id -> agents.id\n  ✓ agent_error_logs.agent_id -> agents.id\n  ✓ agent_hierarchy.descendant -> agents.id\n  ✓ agent_hierarchy.ancestor -> agents.id\n  ✓ agent_kbs.agent_id -> agents.id\n  ✓ agent_kbs.kb_id -> knowledge_bases.kb_id\n  ✓ agent_models.agent_id -> agents.id\n  ✓ agent_models.llm_id -> llms.id\n  ✓ agent_quotas.agent_id -> agents.id\n  ✓ agent_quotas.tenant_id -> tenants.id\n  ✓ agent_tools.agent_id -> agents.id\n  ✓ agent_tools.tool_id -> tools.tool_id\n  ✓ agent_triggers.agent_id -> agents.id\n  ✓ agent_usage_metrics.agent_id -> agents.id\n  ✓ agents.user_id -> users.id\n  ✓ agents.current_config -> agent_configurations.config_id\n  ✓ agents.workspace_id -> workspaces.id\n  ✓ agents.tenant_id -> tenants.id\n  ✓ analytics_alerts.owner_id -> users.id\n  ✓ analytics_alerts.tenant_id -> tenants.id\n  ✓ analytics_dashboards.user_id -> users.id\n  ✓ analytics_dashboards.tenant_id -> tenants.id\n  ✓ analytics_events.project_id -> workspace_projects.id\n  ✓ analytics_events.tenant_id -> tenants.id\n  ✓ analytics_events.user_id -> users.id\n  ✓ analytics_exports.tenant_id -> tenants.id\n  ✓ analytics_exports.owner_id -> users.id\n  ✓ analytics_metrics.tenant_id -> tenants.id\n  ✓ analytics_reports.tenant_id -> tenants.id\n  ✓ analytics_reports.owner_id -> users.id\n  ✓ audit_log.changed_by -> users.id\n  ✓ billing_events.user_id -> users.id\n  ✓ billing_events.related_message_id -> llms_messages.id\n  ✓ billing_events.related_usage_log_id -> llms_usage_logs.id\n  ✓ billing_events.workspace_id -> workspaces.id\n  ✓ billing_events.tenant_id -> tenants.id\n  ✓ business_metrics.tenant_id -> tenants.id\n  ✓ campaign_contacts.tenant_id -> tenants.id\n  ✓ campaign_contacts.campaign_id -> campaigns.id\n  ✓ campaign_contacts.contact_id -> contacts.id\n  ✓ campaigns.tenant_id -> tenants.id\n  ✓ campaigns.created_by -> users.id\n  ✓ component_downloads.user_id -> users.id\n  ✓ component_downloads.tenant_id -> tenants.id\n  ✓ component_downloads.component_id -> marketplace_components.id\n  ✓ component_purchases.component_id -> marketplace_components.id\n  ✓ component_purchases.tenant_id -> tenants.id\n  ✓ component_purchases.user_id -> users.id\n  ✓ component_ratings.component_id -> marketplace_components.id\n  ✓ component_ratings.user_id -> users.id\n  ✓ component_ratings.tenant_id -> tenants.id\n  ✓ component_versions.component_id -> marketplace_components.id\n  ✓ component_versions.tenant_id -> tenants.id\n  ✓ contact_events.contact_id -> contacts.id\n  ✓ contact_events.tenant_id -> tenants.id\n  ✓ contact_interactions.contact_id -> contacts.id\n  ✓ contact_interactions.tenant_id -> tenants.id\n  ✓ contact_interactions.user_id -> users.id\n  ✓ contact_list_memberships.tenant_id -> tenants.id\n  ✓ contact_list_memberships.added_by -> users.id\n  ✓ contact_list_memberships.contact_id -> contacts.id\n  ✓ contact_list_memberships.list_id -> contact_lists.id\n  ✓ contact_lists.tenant_id -> tenants.id\n  ✓ contact_notes.contact_id -> contacts.id\n  ✓ contact_notes.tenant_id -> tenants.id\n  ✓ contact_notes.user_id -> users.id\n  ✓ contact_sources.tenant_id -> tenants.id\n  ✓ contact_tags.tenant_id -> tenants.id\n  ✓ contacts.tenant_id -> tenants.id\n  ✓ contacts.source_id -> contact_sources.id\n  ✓ conversion_journeys.contact_id -> contacts.id\n  ✓ conversion_journeys.tenant_id -> tenants.id\n  ✓ coupons.created_by -> users.id\n  ✓ coupons.tenant_id -> tenants.id\n  ✓ custom_reports.workspace_id -> workspaces.id\n  ✓ custom_reports.user_id -> users.id\n  ✓ custom_reports.tenant_id -> tenants.id\n  ✓ email_verification_tokens.user_id -> users.id\n  ✓ files.tenant_id -> tenants.id\n  ✓ files.user_id -> users.id\n  ✓ invoices.tenant_id -> tenants.id\n  ✓ invoices.subscription_id -> subscriptions.id\n  ✓ llms.tenant_id -> tenants.id\n  ✓ llms_conversations.agent_id -> agents.id\n  ✓ llms_conversations.workspace_id -> workspaces.id\n  ✓ llms_conversations.tenant_id -> tenants.id\n  ✓ llms_conversations.user_id -> users.id\n  ✓ llms_conversations.agent_id -> agents.id\n  ✓ llms_conversations_turns.llm_id -> llms.id\n  ✓ llms_conversations_turns.tenant_id -> tenants.id\n  ✓ llms_conversations_turns.conversation_id -> llms_conversations.id\n  ✓ llms_conversations_turns.llm_id -> llms.id\n  ✓ llms_conversations_turns.conversation_id -> llms_conversations.id\n  ✓ llms_messages.conversation_id -> llms_conversations.id\n  ✓ llms_messages.tenant_id -> tenants.id\n  ✓ llms_messages.conversation_id -> llms_conversations.id\n  ✓ llms_usage_logs.message_id -> llms_messages.id\n  ✓ llms_usage_logs.message_id -> llms_messages.id\n  ✓ llms_usage_logs.llm_id -> llms.id\n  ✓ llms_usage_logs.conversation_id -> llms_conversations.id\n  ✓ llms_usage_logs.tenant_id -> tenants.id\n  ✓ llms_usage_logs.llm_id -> llms.id\n  ✓ llms_usage_logs.workspace_id -> workspaces.id\n  ✓ llms_usage_logs.conversation_id -> llms_conversations.id\n  ✓ llms_usage_logs.user_id -> users.id\n  ✓ marketplace_components.author_id -> users.id\n  ✓ marketplace_components.tenant_id -> tenants.id\n  ✓ message_feedbacks.user_id -> users.id\n  ✓ message_feedbacks.message_id -> llms_messages.id\n  ✓ message_feedbacks.user_id -> users.id\n  ✓ message_feedbacks.tenant_id -> tenants.id\n  ✓ message_feedbacks.message_id -> llms_messages.id\n  ✓ node_categories.parent_id -> node_categories.id\n  ✓ node_categories.tenant_id -> tenants.id\n  ✓ node_executions.tenant_id -> tenants.id\n  ✓ node_executions.workflow_execution_id -> workflow_executions.id\n  ✓ node_ratings.node_id -> nodes.id\n  ✓ node_ratings.user_id -> users.id\n  ✓ node_ratings.tenant_id -> tenants.id\n  ✓ node_templates.tenant_id -> tenants.id\n  ✓ nodes.workspace_id -> workspaces.id\n  ✓ nodes.user_id -> users.id\n  ✓ nodes.tenant_id -> tenants.id\n  ✓ password_reset_tokens.user_id -> users.id\n  ✓ payment_customers.provider_id -> payment_providers.id\n  ✓ payment_customers.tenant_id -> tenants.id\n  ✓ payment_methods.tenant_id -> tenants.id\n  ✓ payment_methods.customer_id -> payment_customers.id\n  ✓ payment_providers.tenant_id -> tenants.id\n  ✓ plan_entitlements.feature_id -> features.id\n  ✓ plan_entitlements.plan_id -> plans.id\n  ✓ plan_entitlements.tenant_id -> tenants.id\n  ✓ plan_features.plan_id -> plans.id\n  ✓ plan_features.feature_id -> features.id\n  ✓ plan_provider_mappings.plan_id -> plans.id\n  ✓ plan_provider_mappings.provider_id -> payment_providers.id\n  ✓ plan_provider_mappings.tenant_id -> tenants.id\n  ✓ project_collaborators.user_id -> users.id\n  ✓ project_collaborators.tenant_id -> tenants.id\n  ✓ project_comments.tenant_id -> tenants.id\n  ✓ project_comments.parent_id -> project_comments.id\n  ✓ project_comments.user_id -> users.id\n  ✓ project_versions.user_id -> users.id\n  ✓ project_versions.project_id -> workspace_projects.id\n  ✓ project_versions.tenant_id -> tenants.id\n  ✓ rbac_permissions.tenant_id -> tenants.id\n  ✓ rbac_role_permissions.permission_id -> rbac_permissions.id\n  ✓ rbac_role_permissions.tenant_id -> tenants.id\n  ✓ rbac_role_permissions.role_id -> rbac_roles.id\n  ✓ rbac_roles.tenant_id -> tenants.id\n  ✓ refresh_tokens.user_id -> users.id\n  ✓ report_executions.tenant_id -> tenants.id\n  ✓ report_executions.report_id -> custom_reports.id\n  ✓ report_executions.user_id -> users.id\n  ✓ subscriptions.payment_method_id -> payment_methods.id\n  ✓ subscriptions.provider_id -> payment_providers.id\n  ✓ subscriptions.tenant_id -> tenants.id\n  ✓ subscriptions.plan_id -> plans.id\n  ✓ subscriptions.coupon_id -> coupons.id\n  ✓ system_performance_metrics.tenant_id -> tenants.id\n  ✓ tags.created_by_user_id -> users.id\n  ✓ tags.tenant_id -> tenants.id\n  ✓ template_collections.creator_id -> users.id\n  ✓ template_collections.tenant_id -> tenants.id\n  ✓ template_downloads.template_id -> workflow_templates.id\n  ✓ template_downloads.user_id -> users.id\n  ✓ template_downloads.tenant_id -> tenants.id\n  ✓ template_favorites.template_id -> workflow_templates.id\n  ✓ template_favorites.user_id -> users.id\n  ✓ template_favorites.tenant_id -> tenants.id\n  ✓ template_reviews.tenant_id -> tenants.id\n  ✓ template_reviews.template_id -> workflow_templates.id\n  ✓ template_reviews.user_id -> users.id\n  ✓ template_usage.template_id -> workflow_templates.id\n  ✓ template_usage.tenant_id -> tenants.id\n  ✓ template_usage.user_id -> users.id\n  ✓ template_usage.workflow_id -> workflows.id\n  ✓ tenant_features.feature_id -> features.id\n  ✓ tenant_features.tenant_id -> tenants.id\n  ✓ tenants.plan_id -> plans.id\n  ✓ user_behavior_metrics.user_id -> users.id\n  ✓ user_behavior_metrics.tenant_id -> tenants.id\n  ✓ user_insights.tenant_id -> tenants.id\n  ✓ user_insights.user_id -> users.id\n  ✓ user_subscriptions.user_id -> users.id\n  ✓ user_subscriptions.tenant_id -> tenants.id\n  ✓ user_subscriptions.plan_id -> plans.id\n  ✓ user_tenant_roles.role_id -> rbac_roles.id\n  ✓ user_tenant_roles.granted_by -> users.id\n  ✓ user_tenant_roles.tenant_id -> tenants.id\n  ✓ user_tenant_roles.user_id -> users.id\n  ✓ user_variables.user_id -> users.id\n  ✓ user_variables.tenant_id -> tenants.id\n  ✓ users.tenant_id -> tenants.id\n  ✓ webhook_logs.provider_id -> payment_providers.id\n  ✓ webhook_logs.tenant_id -> tenants.id\n  ✓ workflow_connections.source_node_id -> workflow_nodes.id\n  ✓ workflow_connections.target_node_id -> workflow_nodes.id\n  ✓ workflow_connections.tenant_id -> tenants.id\n  ✓ workflow_connections.workflow_id -> workflows.id\n  ✓ workflow_execution_metrics.tenant_id -> tenants.id\n  ✓ workflow_execution_queue.tenant_id -> tenants.id\n  ✓ workflow_execution_queue.user_id -> users.id\n  ✓ workflow_execution_queue.workflow_execution_id -> workflow_executions.id\n  ✓ workflow_executions.workflow_id -> workflows.id\n  ✓ workflow_executions.user_id -> users.id\n  ✓ workflow_executions.tenant_id -> tenants.id\n  ✓ workflow_nodes.workflow_id -> workflows.id\n  ✓ workflow_nodes.tenant_id -> tenants.id\n  ✓ workflow_templates.original_workflow_id -> workflows.id\n  ✓ workflow_templates.tenant_id -> tenants.id\n  ✓ workflow_templates.author_id -> users.id\n  ✓ workflows.user_id -> users.id\n  ✓ workflows.workspace_id -> workspaces.id\n  ✓ workflows.tenant_id -> tenants.id\n  ✓ workspace_activities.user_id -> users.id\n  ✓ workspace_activities.workspace_id -> workspaces.id\n  ✓ workspace_activities.tenant_id -> tenants.id\n  ✓ workspace_features.workspace_id -> workspaces.id\n  ✓ workspace_features.tenant_id -> tenants.id\n  ✓ workspace_features.feature_id -> features.id\n  ✓ workspace_invitations.tenant_id -> tenants.id\n  ✓ workspace_invitations.workspace_id -> workspaces.id\n  ✓ workspace_invitations.invited_user_id -> users.id\n  ✓ workspace_invitations.inviter_id -> users.id\n  ✓ workspace_members.workspace_id -> workspaces.id\n  ✓ workspace_members.user_id -> users.id\n  ✓ workspace_members.tenant_id -> tenants.id\n  ✓ workspace_projects.tenant_id -> tenants.id\n  ✓ workspace_projects.workflow_id -> workflows.id\n  ✓ workspace_projects.workspace_id -> workspaces.id\n  ✓ workspaces.tenant_id -> tenants.id\n  ✓ workspaces.owner_id -> users.id\n",
        "stderr": "",
        "returncode": 0,
        "execution_time": 1751926515.5063748
      },
      "check_schema": {
        "success": true,
        "stdout": "🔍 Verificando schema synapscale_db...\n\n📊 Tabelas existentes no schema 'synapscale_db': 103 tabelas\n  ✓ agent_acl\n  ✓ agent_configurations\n  ✓ agent_error_logs\n  ✓ agent_hierarchy\n  ✓ agent_kbs\n  ✓ agent_models\n  ✓ agent_quotas\n  ✓ agent_tools\n  ✓ agent_triggers\n  ✓ agent_usage_metrics\n  ✓ agents\n  ✓ alembic_version\n  ✓ analytics_alerts\n  ✓ analytics_dashboards\n  ✓ analytics_events\n  ✓ analytics_exports\n  ✓ analytics_metrics\n  ✓ analytics_reports\n  ✓ audit_log\n  ✓ billing_events\n  ✓ business_metrics\n  ✓ campaign_contacts\n  ✓ campaigns\n  ✓ component_downloads\n  ✓ component_purchases\n  ✓ component_ratings\n  ✓ component_versions\n  ✓ contact_events\n  ✓ contact_interactions\n  ✓ contact_list_memberships\n  ✓ contact_lists\n  ✓ contact_notes\n  ✓ contact_sources\n  ✓ contact_tags\n  ✓ contacts\n  ✓ conversion_journeys\n  ✓ coupons\n  ✓ custom_reports\n  ✓ email_verification_tokens\n  ✓ features\n  ✓ files\n  ✓ invoices\n  ✓ knowledge_bases\n  ✓ llms\n  ✓ llms_conversations\n  ✓ llms_conversations_turns\n  ✓ llms_messages\n  ✓ llms_usage_logs\n  ✓ marketplace_components\n  ✓ message_feedbacks\n  ✓ node_categories\n  ✓ node_executions\n  ✓ node_ratings\n  ✓ node_templates\n  ✓ nodes\n  ✓ password_reset_tokens\n  ✓ payment_customers\n  ✓ payment_methods\n  ✓ payment_providers\n  ✓ plan_entitlements\n  ✓ plan_features\n  ✓ plan_provider_mappings\n  ✓ plans\n  ✓ project_collaborators\n  ✓ project_comments\n  ✓ project_versions\n  ✓ rbac_permissions\n  ✓ rbac_role_permissions\n  ✓ rbac_roles\n  ✓ refresh_tokens\n  ✓ report_executions\n  ✓ subscriptions\n  ✓ system_health\n  ✓ system_performance_metrics\n  ✓ tags\n  ✓ template_collections\n  ✓ template_downloads\n  ✓ template_favorites\n  ✓ template_reviews\n  ✓ template_usage\n  ✓ tenant_features\n  ✓ tenants\n  ✓ tools\n  ✓ user_behavior_metrics\n  ✓ user_insights\n  ✓ user_subscriptions\n  ✓ user_tenant_roles\n  ✓ user_variables\n  ✓ users\n  ✓ webhook_logs\n  ✓ workflow_connections\n  ✓ workflow_execution_metrics\n  ✓ workflow_execution_queue\n  ✓ workflow_executions\n  ✓ workflow_nodes\n  ✓ workflow_templates\n  ✓ workflows\n  ✓ workspace_activities\n  ✓ workspace_features\n  ✓ workspace_invitations\n  ✓ workspace_members\n  ✓ workspace_projects\n  ✓ workspaces\n\n🔖 Versão atual do Alembic: 38215f9aed79\n",
        "stderr": "",
        "returncode": 0,
        "execution_time": 1751926516.870173
      },
      "check_synapscale_schema": {
        "success": true,
        "stdout": "🔗 Verificando schema synapscale_db no DigitalOcean...\n❌ Erro na conexão: connection to server on socket \"/tmp/.s.PGSQL.5432\" failed: FATAL:  database \"joaovictormiranda\" does not exist\n\n",
        "stderr": "",
        "returncode": 0,
        "execution_time": 1751926517.009286
      },
      "check_users_table": {
        "success": true,
        "stdout": "🔍 Verificando estrutura da tabela users...\n❌ Erro: connection to server on socket \"/tmp/.s.PGSQL.5432\" failed: FATAL:  database \"joaovictormiranda\" does not exist\n\n",
        "stderr": "",
        "returncode": 0,
        "execution_time": 1751926517.157737
      }
    },
    "api_health": true,
    "openapi_sync": false
  },
  "warnings": [
    "Variáveis não configuradas: ['DB_HOST', 'DB_PORT', 'DB_NAME', 'DB_USER', 'DB_PASSWORD']",
    "openapi.json não encontrado nos caminhos padrão"
  ],
  "errors": []
}