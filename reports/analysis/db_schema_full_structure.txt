                                                        Table "synapscale_db.agent_acl"
  Column   |  Type   | Collation | Nullable | Default | Storage | Compression | Stats target |                   Description                    
-----------+---------+-----------+----------+---------+---------+-------------+--------------+--------------------------------------------------
 agent_id  | uuid    |           | not null |         | plain   |             |              | UUID do agente.
 user_id   | uuid    |           | not null |         | plain   |             |              | UUID do usuário.
 can_read  | boolean |           | not null | true    | plain   |             |              | Permissão de leitura/interação (TRUE = permite).
 can_write | boolean |           | not null | false   | plain   |             |              | Permissão de modificação (TRUE = permite).
Indexes:
    "agent_acl_pkey" PRIMARY KEY, btree (agent_id, user_id)
Foreign-key constraints:
    "agent_acl_agent_id_fkey" FOREIGN KEY (agent_id) REFERENCES synapscale_db.agents(id) ON DELETE CASCADE
    "agent_acl_user_id_fkey" FOREIGN KEY (user_id) REFERENCES synapscale_db.users(id) ON DELETE CASCADE
Access method: heap

             Index "synapscale_db.agent_acl_pkey"
  Column  | Type | Key? | Definition | Storage | Stats target 
----------+------+------+------------+---------+--------------
 agent_id | uuid | yes  | agent_id   | plain   | 
 user_id  | uuid | yes  | user_id    | plain   | 
primary key, btree, for table "synapscale_db.agent_acl"

                                                                                          Table "synapscale_db.agent_configurations"
   Column    |           Type           | Collation | Nullable |      Default      | Storage  | Compression | Stats target |                                           Description                                            
-------------+--------------------------+-----------+----------+-------------------+----------+-------------+--------------+--------------------------------------------------------------------------------------------------
 config_id   | uuid                     |           | not null | gen_random_uuid() | plain    |             |              | UUID desta versão de configuração (ex: gen_random_uuid() → '3f1e5f2a-...' ).
 agent_id    | uuid                     |           | not null |                   | plain    |             |              | UUID do agente ao qual esta configuração pertence.
 version_num | integer                  |           | not null |                   | plain    |             |              | Número sequencial desta versão (1 = primeira, 2 = segunda, etc.).
 params      | jsonb                    |           | not null |                   | extended |             |              | JSONB com todos os parâmetros dessa versão (ex: { "system_prompt": "Olá", "temperature": 0.7 }).
 created_by  | uuid                     |           | not null |                   | plain    |             |              | UUID do usuário que criou esta versão.
 created_at  | timestamp with time zone |           | not null | now()             | plain    |             |              | Timestamp de quando esta versão foi registrada.
Indexes:
    "agent_configurations_pkey" PRIMARY KEY, btree (config_id)
    "agent_configurations_agent_id_version_num_key" UNIQUE CONSTRAINT, btree (agent_id, version_num)
Foreign-key constraints:
    "agent_configurations_agent_id_fkey" FOREIGN KEY (agent_id) REFERENCES synapscale_db.agents(id) ON DELETE CASCADE
    "agent_configurations_created_by_fkey" FOREIGN KEY (created_by) REFERENCES synapscale_db.users(id)
Referenced by:
    TABLE "synapscale_db.agents" CONSTRAINT "agents_current_config_fkey" FOREIGN KEY (current_config) REFERENCES synapscale_db.agent_configurations(config_id)
Triggers:
    trg_audit_agent_configurations AFTER INSERT OR DELETE OR UPDATE ON synapscale_db.agent_configurations FOR EACH ROW EXECUTE FUNCTION synapscale_db.fn_audit()
    trg_updated_at_agent_configurations BEFORE UPDATE ON synapscale_db.agent_configurations FOR EACH ROW EXECUTE FUNCTION synapscale_db.update_timestamp()
Access method: heap

 Index "synapscale_db.agent_configurations_agent_id_version_num_key"
   Column    |  Type   | Key? | Definition  | Storage | Stats target 
-------------+---------+------+-------------+---------+--------------
 agent_id    | uuid    | yes  | agent_id    | plain   | 
 version_num | integer | yes  | version_num | plain   | 
unique, btree, for table "synapscale_db.agent_configurations"

        Index "synapscale_db.agent_configurations_pkey"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 config_id | uuid | yes  | config_id  | plain   | 
primary key, btree, for table "synapscale_db.agent_configurations"

                                                                  Table "synapscale_db.agent_error_logs"
   Column    |           Type           | Collation | Nullable |      Default      | Storage  | Compression | Stats target |                 Description                  
-------------+--------------------------+-----------+----------+-------------------+----------+-------------+--------------+----------------------------------------------
 error_id    | uuid                     |           | not null | gen_random_uuid() | plain    |             |              | UUID do log de erro.
 agent_id    | uuid                     |           | not null |                   | plain    |             |              | UUID do agente que gerou o erro.
 occurred_at | timestamp with time zone |           | not null | now()             | plain    |             |              | Timestamp de quando o erro ocorreu.
 error_code  | text                     |           |          |                   | extended |             |              | Código ou categoria do erro (ex: 'TIMEOUT').
 payload     | jsonb                    |           |          |                   | extended |             |              | JSONB com detalhes do erro ou stack trace.
Indexes:
    "agent_error_logs_pkey" PRIMARY KEY, btree (error_id)
Foreign-key constraints:
    "agent_error_logs_agent_id_fkey" FOREIGN KEY (agent_id) REFERENCES synapscale_db.agents(id)
Access method: heap

         Index "synapscale_db.agent_error_logs_pkey"
  Column  | Type | Key? | Definition | Storage | Stats target 
----------+------+------+------------+---------+--------------
 error_id | uuid | yes  | error_id   | plain   | 
primary key, btree, for table "synapscale_db.agent_error_logs"

                                                             Table "synapscale_db.agent_hierarchy"
   Column   |  Type   | Collation | Nullable | Default | Storage | Compression | Stats target |                          Description                           
------------+---------+-----------+----------+---------+---------+-------------+--------------+----------------------------------------------------------------
 ancestor   | uuid    |           | not null |         | plain   |             |              | UUID do agente ancestral (pai).
 descendant | uuid    |           | not null |         | plain   |             |              | UUID do agente descendente (filho).
 depth      | integer |           | not null |         | plain   |             |              | Profundidade entre ancestral e descendente (1 = filho direto).
Indexes:
    "agent_hierarchy_pkey" PRIMARY KEY, btree (ancestor, descendant)
Foreign-key constraints:
    "agent_hierarchy_ancestor_fkey" FOREIGN KEY (ancestor) REFERENCES synapscale_db.agents(id)
    "agent_hierarchy_descendant_fkey" FOREIGN KEY (descendant) REFERENCES synapscale_db.agents(id)
Access method: heap

           Index "synapscale_db.agent_hierarchy_pkey"
   Column   | Type | Key? | Definition | Storage | Stats target 
------------+------+------+------------+---------+--------------
 ancestor   | uuid | yes  | ancestor   | plain   | 
 descendant | uuid | yes  | descendant | plain   | 
primary key, btree, for table "synapscale_db.agent_hierarchy"

                                                                    Table "synapscale_db.agent_kbs"
  Column  | Type  | Collation | Nullable |   Default   | Storage  | Compression | Stats target |                              Description                               
----------+-------+-----------+----------+-------------+----------+-------------+--------------+------------------------------------------------------------------------
 agent_id | uuid  |           | not null |             | plain    |             |              | UUID do agente.
 kb_id    | uuid  |           | not null |             | plain    |             |              | UUID da base de conhecimento.
 config   | jsonb |           | not null | '{}'::jsonb | extended |             |              | JSONB de parâmetros do agente para esta KB (ex: { "max_chunks": 10 }).
Indexes:
    "agent_kbs_pkey" PRIMARY KEY, btree (agent_id, kb_id)
    "idx_agent_kbs_config" gin (config)
Foreign-key constraints:
    "agent_kbs_agent_id_fkey" FOREIGN KEY (agent_id) REFERENCES synapscale_db.agents(id) ON DELETE CASCADE
    "agent_kbs_kb_id_fkey" FOREIGN KEY (kb_id) REFERENCES synapscale_db.knowledge_bases(kb_id) ON DELETE CASCADE
Triggers:
    trg_audit_agent_kbs AFTER INSERT OR DELETE OR UPDATE ON synapscale_db.agent_kbs FOR EACH ROW EXECUTE FUNCTION synapscale_db.fn_audit()
Access method: heap

             Index "synapscale_db.agent_kbs_pkey"
  Column  | Type | Key? | Definition | Storage | Stats target 
----------+------+------+------------+---------+--------------
 agent_id | uuid | yes  | agent_id   | plain   | 
 kb_id    | uuid | yes  | kb_id      | plain   | 
primary key, btree, for table "synapscale_db.agent_kbs"

                                                                            Table "synapscale_db.agent_models"
  Column  | Type  | Collation | Nullable |   Default   | Storage  | Compression | Stats target |                                        Description                                        
----------+-------+-----------+----------+-------------+----------+-------------+--------------+-------------------------------------------------------------------------------------------
 agent_id | uuid  |           | not null |             | plain    |             |              | UUID do agente.
 llm_id   | uuid  |           | not null |             | plain    |             |              | UUID do modelo LLM associado.
 override | jsonb |           | not null | '{}'::jsonb | extended |             |              | JSONB de parâmetros que sobrescrevem o padrão para este LLM (ex: { "temperature": 0.5 }).
Indexes:
    "agent_models_pkey" PRIMARY KEY, btree (agent_id, llm_id)
Foreign-key constraints:
    "agent_models_agent_id_fkey" FOREIGN KEY (agent_id) REFERENCES synapscale_db.agents(id) ON DELETE CASCADE
    "agent_models_llm_id_fkey" FOREIGN KEY (llm_id) REFERENCES synapscale_db.llms(id) ON DELETE CASCADE
Triggers:
    trg_audit_agent_models AFTER INSERT OR DELETE OR UPDATE ON synapscale_db.agent_models FOR EACH ROW EXECUTE FUNCTION synapscale_db.fn_audit()
Access method: heap

           Index "synapscale_db.agent_models_pkey"
  Column  | Type | Key? | Definition | Storage | Stats target 
----------+------+------+------------+---------+--------------
 agent_id | uuid | yes  | agent_id   | plain   | 
 llm_id   | uuid | yes  | llm_id     | plain   | 
primary key, btree, for table "synapscale_db.agent_models"

                                                                      Table "synapscale_db.agent_quotas"
   Column   |           Type           | Collation | Nullable |      Default      | Storage | Compression | Stats target |                    Description                     
------------+--------------------------+-----------+----------+-------------------+---------+-------------+--------------+----------------------------------------------------
 quota_id   | uuid                     |           | not null | gen_random_uuid() | plain   |             |              | UUID do registro de cota.
 agent_id   | uuid                     |           | not null |                   | plain   |             |              | UUID do agente.
 tenant_id  | uuid                     |           | not null |                   | plain   |             |              | UUID do tenant proprietário.
 max_calls  | bigint                   |           | not null |                   | plain   |             |              | Máximo de chamadas permitido no período.
 max_tokens | bigint                   |           | not null |                   | plain   |             |              | Máximo de tokens permitido no período.
 period     | interval                 |           | not null |                   | plain   |             |              | Intervalo de reset da cota (ex: INTERVAL '1 day').
 created_at | timestamp with time zone |           | not null | now()             | plain   |             |              | Timestamp de criação da cota.
Indexes:
    "agent_quotas_pkey" PRIMARY KEY, btree (quota_id)
Foreign-key constraints:
    "agent_quotas_agent_id_fkey" FOREIGN KEY (agent_id) REFERENCES synapscale_db.agents(id)
    "agent_quotas_tenant_id_fkey" FOREIGN KEY (tenant_id) REFERENCES synapscale_db.tenants(id)
Access method: heap

           Index "synapscale_db.agent_quotas_pkey"
  Column  | Type | Key? | Definition | Storage | Stats target 
----------+------+------+------------+---------+--------------
 quota_id | uuid | yes  | quota_id   | plain   | 
primary key, btree, for table "synapscale_db.agent_quotas"

                                                                       Table "synapscale_db.agent_tools"
  Column  | Type  | Collation | Nullable |   Default   | Storage  | Compression | Stats target |                                  Description                                  
----------+-------+-----------+----------+-------------+----------+-------------+--------------+-------------------------------------------------------------------------------
 agent_id | uuid  |           | not null |             | plain    |             |              | UUID do agente.
 tool_id  | uuid  |           | not null |             | plain    |             |              | UUID da ferramenta associada.
 config   | jsonb |           | not null | '{}'::jsonb | extended |             |              | JSONB de overrides do agente para esta ferramenta (ex: { "max_results": 5 }).
Indexes:
    "agent_tools_pkey" PRIMARY KEY, btree (agent_id, tool_id)
    "idx_agent_tools_config" gin (config)
Foreign-key constraints:
    "agent_tools_agent_id_fkey" FOREIGN KEY (agent_id) REFERENCES synapscale_db.agents(id) ON DELETE CASCADE
    "agent_tools_tool_id_fkey" FOREIGN KEY (tool_id) REFERENCES synapscale_db.tools(tool_id) ON DELETE CASCADE
Triggers:
    trg_audit_agent_tools AFTER INSERT OR DELETE OR UPDATE ON synapscale_db.agent_tools FOR EACH ROW EXECUTE FUNCTION synapscale_db.fn_audit()
Access method: heap

            Index "synapscale_db.agent_tools_pkey"
  Column  | Type | Key? | Definition | Storage | Stats target 
----------+------+------+------------+---------+--------------
 agent_id | uuid | yes  | agent_id   | plain   | 
 tool_id  | uuid | yes  | tool_id    | plain   | 
primary key, btree, for table "synapscale_db.agent_tools"

                                                                                 Table "synapscale_db.agent_triggers"
    Column    |             Type              | Collation | Nullable |      Default      | Storage  | Compression | Stats target |                             Description                             
--------------+-------------------------------+-----------+----------+-------------------+----------+-------------+--------------+---------------------------------------------------------------------
 trigger_id   | uuid                          |           | not null | gen_random_uuid() | plain    |             |              | UUID do gatilho (ex: gen_random_uuid() → 'ffff1111-...' ).
 agent_id     | uuid                          |           | not null |                   | plain    |             |              | UUID do agente que será acionado.
 trigger_type | synapscale_db.trigger_type_en |           | not null |                   | plain    |             |              | Tipo do gatilho: 'schedule' (cron) ou 'event' (evento customizado).
 cron_expr    | text                          |           |          |                   | extended |             |              | Expressão cron para agendamentos (ex: '0 9 * * *' para 9h diárias).
 event_name   | text                          |           |          |                   | extended |             |              | Nome do evento que dispara o agente (ex: 'on_new_user_signup').
 active       | boolean                       |           | not null | true              | plain    |             |              | Flag se o gatilho está habilitado (TRUE = ativo).
 last_run_at  | timestamp with time zone      |           |          |                   | plain    |             |              | Timestamp da última execução gerada por este gatilho.
Indexes:
    "agent_triggers_pkey" PRIMARY KEY, btree (trigger_id)
Check constraints:
    "agent_triggers_check" CHECK (trigger_type <> 'schedule'::synapscale_db.trigger_type_en OR cron_expr ~ '^([0-5]?\d\s+){4}[0-5]?\d$'::text)
Foreign-key constraints:
    "agent_triggers_agent_id_fkey" FOREIGN KEY (agent_id) REFERENCES synapscale_db.agents(id) ON DELETE CASCADE
Triggers:
    trg_audit_agent_triggers AFTER INSERT OR DELETE OR UPDATE ON synapscale_db.agent_triggers FOR EACH ROW EXECUTE FUNCTION synapscale_db.fn_audit()
Access method: heap

           Index "synapscale_db.agent_triggers_pkey"
   Column   | Type | Key? | Definition | Storage | Stats target 
------------+------+------+------------+---------+--------------
 trigger_id | uuid | yes  | trigger_id | plain   | 
primary key, btree, for table "synapscale_db.agent_triggers"

                                                                         Table "synapscale_db.agent_usage_metrics"
    Column    |           Type           | Collation | Nullable |      Default      | Storage | Compression | Stats target |                          Description                          
--------------+--------------------------+-----------+----------+-------------------+---------+-------------+--------------+---------------------------------------------------------------
 metric_id    | uuid                     |           | not null | gen_random_uuid() | plain   |             |              | UUID deste registro de métricas.
 agent_id     | uuid                     |           | not null |                   | plain   |             |              | UUID do agente monitorado.
 period_start | timestamp with time zone |           | not null |                   | plain   |             |              | Início do intervalo de métricas (ex: '2025-07-01T00:00:00Z').
 period_end   | timestamp with time zone |           | not null |                   | plain   |             |              | Fim do intervalo de métricas (ex: '2025-07-02T00:00:00Z').
 calls_count  | bigint                   |           | not null |                   | plain   |             |              | Quantidade total de chamadas ao LLM neste período.
 tokens_used  | bigint                   |           | not null |                   | plain   |             |              | Total de tokens consumidos neste período.
 cost_est     | numeric(12,4)            |           | not null |                   | main    |             |              | Custo estimado em USD (ex: 0.0234).
 created_at   | timestamp with time zone |           | not null | now()             | plain   |             |              | Timestamp de quando a métrica foi registrada.
Indexes:
    "agent_usage_metrics_pkey" PRIMARY KEY, btree (metric_id)
    "agent_usage_metrics_agent_id_period_start_key" UNIQUE CONSTRAINT, btree (agent_id, period_start)
Foreign-key constraints:
    "agent_usage_metrics_agent_id_fkey" FOREIGN KEY (agent_id) REFERENCES synapscale_db.agents(id)
Access method: heap

          Index "synapscale_db.agent_usage_metrics_agent_id_period_start_key"
    Column    |           Type           | Key? |  Definition  | Storage | Stats target 
--------------+--------------------------+------+--------------+---------+--------------
 agent_id     | uuid                     | yes  | agent_id     | plain   | 
 period_start | timestamp with time zone | yes  | period_start | plain   | 
unique, btree, for table "synapscale_db.agent_usage_metrics"

        Index "synapscale_db.agent_usage_metrics_pkey"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 metric_id | uuid | yes  | metric_id  | plain   | 
primary key, btree, for table "synapscale_db.agent_usage_metrics"

                                                                                                              Table "synapscale_db.agents"
     Column     |           Type           | Collation | Nullable |             Default              | Storage  | Compression | Stats target |                                                Description                                                
----------------+--------------------------+-----------+----------+----------------------------------+----------+-------------+--------------+-----------------------------------------------------------------------------------------------------------
 id             | uuid                     |           | not null |                                  | plain    |             |              | 
 name           | character varying(255)   |           | not null |                                  | extended |             |              | 
 description    | text                     |           |          |                                  | extended |             |              | 
 is_active      | boolean                  |           | not null | true                             | plain    |             |              | 
 user_id        | uuid                     |           | not null |                                  | plain    |             |              | 
 created_at     | timestamp with time zone |           | not null | now()                            | plain    |             |              | 
 updated_at     | timestamp with time zone |           | not null | now()                            | plain    |             |              | 
 workspace_id   | uuid                     |           |          |                                  | plain    |             |              | 
 tenant_id      | uuid                     |           | not null |                                  | plain    |             |              | 
 status         | character varying(20)    |           |          | 'active'::character varying      | extended |             |              | 
 priority       | integer                  |           |          | 1                                | plain    |             |              | 
 version        | character varying(20)    |           |          | '1.0.0'::character varying       | extended |             |              | 
 environment    | character varying(20)    |           |          | 'development'::character varying | extended |             |              | 
 current_config | uuid                     |           |          |                                  | plain    |             |              | UUID da configuração ativa do agente, referenciando agent_configurations.config_id (ex: '3f1e5f2a-...' ).
Indexes:
    "agents_pkey" PRIMARY KEY, btree (id)
    "idx_agents_name" btree (name)
    "idx_agents_priority" btree (priority)
    "idx_agents_status" btree (status) WHERE status::text <> 'archived'::text
    "idx_agents_tenant_id" btree (tenant_id)
    "idx_agents_tenant_user" btree (tenant_id, user_id)
    "idx_agents_tenant_workspace" btree (tenant_id, workspace_id)
    "idx_agents_user_id" btree (user_id)
    "ix_public_agents_workspace_id" btree (workspace_id)
Check constraints:
    "agents_environment_check" CHECK (environment::text = ANY (ARRAY['development'::character varying, 'staging'::character varying, 'production'::character varying]::text[]))
    "agents_priority_check" CHECK (priority >= 1 AND priority <= 10)
    "agents_status_check" CHECK (status::text = ANY (ARRAY['active'::character varying, 'inactive'::character varying, 'draft'::character varying, 'archived'::character varying, 'error'::character varying]::text[]))
Foreign-key constraints:
    "agents_current_config_fkey" FOREIGN KEY (current_config) REFERENCES synapscale_db.agent_configurations(config_id)
    "agents_tenant_id_fkey" FOREIGN KEY (tenant_id) REFERENCES synapscale_db.tenants(id) ON DELETE CASCADE
    "agents_user_id_fkey" FOREIGN KEY (user_id) REFERENCES synapscale_db.users(id) ON UPDATE CASCADE ON DELETE CASCADE
    "agents_workspace_id_fkey" FOREIGN KEY (workspace_id) REFERENCES synapscale_db.workspaces(id) ON DELETE CASCADE
Referenced by:
    TABLE "synapscale_db.agent_acl" CONSTRAINT "agent_acl_agent_id_fkey" FOREIGN KEY (agent_id) REFERENCES synapscale_db.agents(id) ON DELETE CASCADE
    TABLE "synapscale_db.agent_configurations" CONSTRAINT "agent_configurations_agent_id_fkey" FOREIGN KEY (agent_id) REFERENCES synapscale_db.agents(id) ON DELETE CASCADE
    TABLE "synapscale_db.agent_error_logs" CONSTRAINT "agent_error_logs_agent_id_fkey" FOREIGN KEY (agent_id) REFERENCES synapscale_db.agents(id)
    TABLE "synapscale_db.agent_hierarchy" CONSTRAINT "agent_hierarchy_ancestor_fkey" FOREIGN KEY (ancestor) REFERENCES synapscale_db.agents(id)
    TABLE "synapscale_db.agent_hierarchy" CONSTRAINT "agent_hierarchy_descendant_fkey" FOREIGN KEY (descendant) REFERENCES synapscale_db.agents(id)
    TABLE "synapscale_db.agent_kbs" CONSTRAINT "agent_kbs_agent_id_fkey" FOREIGN KEY (agent_id) REFERENCES synapscale_db.agents(id) ON DELETE CASCADE
    TABLE "synapscale_db.agent_models" CONSTRAINT "agent_models_agent_id_fkey" FOREIGN KEY (agent_id) REFERENCES synapscale_db.agents(id) ON DELETE CASCADE
    TABLE "synapscale_db.agent_quotas" CONSTRAINT "agent_quotas_agent_id_fkey" FOREIGN KEY (agent_id) REFERENCES synapscale_db.agents(id)
    TABLE "synapscale_db.agent_tools" CONSTRAINT "agent_tools_agent_id_fkey" FOREIGN KEY (agent_id) REFERENCES synapscale_db.agents(id) ON DELETE CASCADE
    TABLE "synapscale_db.agent_triggers" CONSTRAINT "agent_triggers_agent_id_fkey" FOREIGN KEY (agent_id) REFERENCES synapscale_db.agents(id) ON DELETE CASCADE
    TABLE "synapscale_db.agent_usage_metrics" CONSTRAINT "agent_usage_metrics_agent_id_fkey" FOREIGN KEY (agent_id) REFERENCES synapscale_db.agents(id)
    TABLE "synapscale_db.llms_conversations" CONSTRAINT "conversations_agent_id_fkey" FOREIGN KEY (agent_id) REFERENCES synapscale_db.agents(id) ON UPDATE CASCADE ON DELETE SET NULL
    TABLE "synapscale_db.llms_conversations" CONSTRAINT "fk_llms_conversations_agent" FOREIGN KEY (agent_id) REFERENCES synapscale_db.agents(id) ON UPDATE CASCADE ON DELETE SET NULL
Policies:
    POLICY "tenant_isolation"
      USING ((tenant_id = (current_setting('app.current_tenant'::text))::uuid))
    POLICY "tenant_isolation_agents"
      USING ((tenant_id = current_tenant_id()))
    POLICY "tenant_isolation_agents_insert" FOR INSERT
      WITH CHECK ((tenant_id = current_tenant_id()))
Access method: heap

             Index "synapscale_db.agents_pkey"
 Column | Type | Key? | Definition | Storage | Stats target 
--------+------+------+------------+---------+--------------
 id     | uuid | yes  | id         | plain   | 
primary key, btree, for table "synapscale_db.agents"

                                           Table "synapscale_db.alembic_version"
   Column    |         Type          | Collation | Nullable | Default | Storage  | Compression | Stats target | Description 
-------------+-----------------------+-----------+----------+---------+----------+-------------+--------------+-------------
 version_num | character varying(32) |           | not null |         | extended |             |              | 
Indexes:
    "alembic_version_pkc" PRIMARY KEY, btree (version_num)
Access method: heap

                     Index "synapscale_db.alembic_version_pkc"
   Column    |         Type          | Key? | Definition  | Storage  | Stats target 
-------------+-----------------------+------+-------------+----------+--------------
 version_num | character varying(32) | yes  | version_num | extended | 
primary key, btree, for table "synapscale_db.alembic_version"

                                                Table "synapscale_db.analytics_alerts"
       Column        |           Type           | Collation | Nullable | Default | Storage  | Compression | Stats target | Description 
---------------------+--------------------------+-----------+----------+---------+----------+-------------+--------------+-------------
 id                  | uuid                     |           | not null |         | plain    |             |              | 
 name                | character varying(255)   |           | not null |         | extended |             |              | 
 description         | text                     |           |          |         | extended |             |              | 
 condition           | jsonb                    |           | not null |         | extended |             |              | 
 notification_config | jsonb                    |           | not null |         | extended |             |              | 
 is_active           | boolean                  |           | not null | true    | plain    |             |              | 
 owner_id            | uuid                     |           | not null |         | plain    |             |              | 
 last_triggered_at   | timestamp with time zone |           |          |         | plain    |             |              | 
 created_at          | timestamp with time zone |           | not null | now()   | plain    |             |              | 
 updated_at          | timestamp with time zone |           | not null | now()   | plain    |             |              | 
 tenant_id           | uuid                     |           |          |         | plain    |             |              | 
Indexes:
    "analytics_alerts_pkey" PRIMARY KEY, btree (id)
    "idx_analytics_alerts_tenant_id" btree (tenant_id)
Foreign-key constraints:
    "analytics_alerts_owner_id_fkey" FOREIGN KEY (owner_id) REFERENCES synapscale_db.users(id) ON UPDATE CASCADE ON DELETE CASCADE
    "analytics_alerts_tenant_id_fkey" FOREIGN KEY (tenant_id) REFERENCES synapscale_db.tenants(id) ON UPDATE CASCADE ON DELETE CASCADE
Access method: heap

        Index "synapscale_db.analytics_alerts_pkey"
 Column | Type | Key? | Definition | Storage | Stats target 
--------+------+------+------------+---------+--------------
 id     | uuid | yes  | id         | plain   | 
primary key, btree, for table "synapscale_db.analytics_alerts"

                                             Table "synapscale_db.analytics_dashboards"
      Column      |           Type           | Collation | Nullable | Default | Storage  | Compression | Stats target | Description 
------------------+--------------------------+-----------+----------+---------+----------+-------------+--------------+-------------
 id               | uuid                     |           | not null |         | plain    |             |              | 
 name             | character varying(255)   |           | not null |         | extended |             |              | 
 description      | text                     |           |          |         | extended |             |              | 
 icon             | character varying(50)    |           |          |         | extended |             |              | 
 color            | character varying(7)     |           |          |         | extended |             |              | 
 user_id          | uuid                     |           | not null |         | plain    |             |              | 
 layout           | jsonb                    |           | not null |         | extended |             |              | 
 widgets          | jsonb                    |           | not null |         | extended |             |              | 
 filters          | jsonb                    |           |          |         | extended |             |              | 
 auto_refresh     | boolean                  |           | not null |         | plain    |             |              | 
 refresh_interval | integer                  |           |          |         | plain    |             |              | 
 is_public        | boolean                  |           | not null | false   | plain    |             |              | 
 shared_with      | jsonb                    |           |          |         | extended |             |              | 
 is_default       | boolean                  |           | not null |         | plain    |             |              | 
 status           | character varying(20)    |           | not null |         | extended |             |              | 
 created_at       | timestamp with time zone |           | not null | now()   | plain    |             |              | 
 updated_at       | timestamp with time zone |           | not null | now()   | plain    |             |              | 
 last_viewed_at   | timestamp with time zone |           |          |         | plain    |             |              | 
 workspace_id     | uuid                     |           |          |         | plain    |             |              | 
 tenant_id        | uuid                     |           |          |         | plain    |             |              | 
Indexes:
    "analytics_dashboards_pkey" PRIMARY KEY, btree (id)
    "idx_analytics_dashboards_status" btree (status)
    "idx_analytics_dashboards_tenant_id" btree (tenant_id)
    "ix_public_analytics_dashboards_user_id" btree (user_id)
    "ix_public_analytics_dashboards_workspace_id" btree (workspace_id)
Foreign-key constraints:
    "analytics_dashboards_tenant_id_fkey" FOREIGN KEY (tenant_id) REFERENCES synapscale_db.tenants(id) ON UPDATE CASCADE ON DELETE CASCADE
    "analytics_dashboards_user_id_fkey" FOREIGN KEY (user_id) REFERENCES synapscale_db.users(id) ON DELETE CASCADE
Access method: heap

      Index "synapscale_db.analytics_dashboards_pkey"
 Column | Type | Key? | Definition | Storage | Stats target 
--------+------+------+------------+---------+--------------
 id     | uuid | yes  | id         | plain   | 
primary key, btree, for table "synapscale_db.analytics_dashboards"

                                                    Table "synapscale_db.analytics_events"
      Column       |           Type           | Collation | Nullable |      Default      | Storage  | Compression | Stats target | Description 
-------------------+--------------------------+-----------+----------+-------------------+----------+-------------+--------------+-------------
 id                | uuid                     |           | not null |                   | plain    |             |              | 
 event_id          | character varying(36)    |           | not null |                   | extended |             |              | 
 event_type        | character varying(100)   |           | not null |                   | extended |             |              | 
 category          | character varying(50)    |           | not null |                   | extended |             |              | 
 action            | character varying(100)   |           | not null |                   | extended |             |              | 
 label             | character varying(200)   |           |          |                   | extended |             |              | 
 user_id           | uuid                     |           |          |                   | plain    |             |              | 
 session_id        | character varying(255)   |           |          |                   | extended |             |              | 
 anonymous_id      | character varying(100)   |           |          |                   | extended |             |              | 
 ip_address        | text                     |           |          |                   | extended |             |              | 
 user_agent        | text                     |           |          |                   | extended |             |              | 
 referrer          | character varying(1000)  |           |          |                   | extended |             |              | 
 page_url          | character varying(1000)  |           |          |                   | extended |             |              | 
 properties        | jsonb                    |           | not null | '{}'::jsonb       | extended |             |              | 
 value             | double precision         |           |          |                   | plain    |             |              | 
 workspace_id      | uuid                     |           |          |                   | plain    |             |              | 
 project_id        | uuid                     |           | not null |                   | plain    |             |              | 
 workflow_id       | uuid                     |           |          |                   | plain    |             |              | 
 country           | character varying(2)     |           |          |                   | extended |             |              | 
 region            | character varying(100)   |           |          |                   | extended |             |              | 
 city              | character varying(100)   |           |          |                   | extended |             |              | 
 timezone          | character varying(50)    |           |          |                   | extended |             |              | 
 device_type       | character varying(20)    |           |          |                   | extended |             |              | 
 os                | character varying(50)    |           |          |                   | extended |             |              | 
 browser           | character varying(50)    |           |          |                   | extended |             |              | 
 screen_resolution | character varying(20)    |           |          |                   | extended |             |              | 
 timestamp         | timestamp with time zone |           | not null | now()             | plain    |             |              | 
 tenant_id         | uuid                     |           |          |                   | plain    |             |              | 
 created_at        | timestamp with time zone |           |          | CURRENT_TIMESTAMP | plain    |             |              | 
 updated_at        | timestamp with time zone |           |          | CURRENT_TIMESTAMP | plain    |             |              | 
Indexes:
    "analytics_events_pkey" PRIMARY KEY, btree (id)
    "idx_analytics_events_tenant_id" btree (tenant_id)
    "idx_analytics_events_user_id" btree (user_id)
    "ix_public_analytics_events_action" btree (action)
    "ix_public_analytics_events_anonymous_id" btree (anonymous_id)
    "ix_public_analytics_events_category" btree (category)
    "ix_public_analytics_events_event_id" UNIQUE, btree (event_id)
    "ix_public_analytics_events_label" btree (label)
    "ix_public_analytics_events_project_id" btree (project_id)
    "ix_public_analytics_events_workflow_id" btree (workflow_id)
    "ix_public_analytics_events_workspace_id" btree (workspace_id)
Foreign-key constraints:
    "analytics_events_project_id_fkey" FOREIGN KEY (project_id) REFERENCES synapscale_db.workspace_projects(id)
    "analytics_events_tenant_id_fkey" FOREIGN KEY (tenant_id) REFERENCES synapscale_db.tenants(id) ON DELETE CASCADE
    "analytics_events_user_id_fkey" FOREIGN KEY (user_id) REFERENCES synapscale_db.users(id) ON UPDATE CASCADE ON DELETE SET NULL
Policies:
    POLICY "tenant_isolation_analytics_events"
      USING ((tenant_id = current_tenant_id()))
    POLICY "tenant_isolation_analytics_events_insert" FOR INSERT
      WITH CHECK ((tenant_id = current_tenant_id()))
Access method: heap

        Index "synapscale_db.analytics_events_pkey"
 Column | Type | Key? | Definition | Storage | Stats target 
--------+------+------+------------+---------+--------------
 id     | uuid | yes  | id         | plain   | 
primary key, btree, for table "synapscale_db.analytics_events"

                                                       Table "synapscale_db.analytics_exports"
    Column    |           Type           | Collation | Nullable |           Default            | Storage  | Compression | Stats target | Description 
--------------+--------------------------+-----------+----------+------------------------------+----------+-------------+--------------+-------------
 id           | uuid                     |           | not null |                              | plain    |             |              | 
 name         | character varying(255)   |           | not null |                              | extended |             |              | 
 export_type  | character varying(50)    |           | not null |                              | extended |             |              | 
 query        | jsonb                    |           | not null |                              | extended |             |              | 
 file_path    | character varying(500)   |           |          |                              | extended |             |              | 
 status       | character varying(20)    |           | not null | 'pending'::character varying | extended |             |              | 
 owner_id     | uuid                     |           | not null |                              | plain    |             |              | 
 created_at   | timestamp with time zone |           | not null | now()                        | plain    |             |              | 
 completed_at | timestamp with time zone |           |          |                              | plain    |             |              | 
 tenant_id    | uuid                     |           |          |                              | plain    |             |              | 
 updated_at   | timestamp with time zone |           |          | CURRENT_TIMESTAMP            | plain    |             |              | 
Indexes:
    "analytics_exports_pkey" PRIMARY KEY, btree (id)
    "idx_analytics_exports_status" btree (status)
    "idx_analytics_exports_tenant_id" btree (tenant_id)
Foreign-key constraints:
    "analytics_exports_owner_id_fkey" FOREIGN KEY (owner_id) REFERENCES synapscale_db.users(id) ON UPDATE CASCADE ON DELETE CASCADE
    "analytics_exports_tenant_id_fkey" FOREIGN KEY (tenant_id) REFERENCES synapscale_db.tenants(id) ON UPDATE CASCADE ON DELETE CASCADE
Access method: heap

        Index "synapscale_db.analytics_exports_pkey"
 Column | Type | Key? | Definition | Storage | Stats target 
--------+------+------+------------+---------+--------------
 id     | uuid | yes  | id         | plain   | 
primary key, btree, for table "synapscale_db.analytics_exports"

                                                 Table "synapscale_db.analytics_metrics"
    Column    |           Type           | Collation | Nullable |      Default      | Storage  | Compression | Stats target | Description 
--------------+--------------------------+-----------+----------+-------------------+----------+-------------+--------------+-------------
 id           | uuid                     |           | not null |                   | plain    |             |              | 
 metric_name  | character varying(100)   |           | not null |                   | extended |             |              | 
 metric_value | numeric(15,4)            |           | not null |                   | main     |             |              | 
 dimensions   | jsonb                    |           | not null | '{}'::jsonb       | extended |             |              | 
 timestamp    | timestamp with time zone |           | not null | now()             | plain    |             |              | 
 created_at   | timestamp with time zone |           | not null | now()             | plain    |             |              | 
 tenant_id    | uuid                     |           |          |                   | plain    |             |              | 
 updated_at   | timestamp with time zone |           |          | CURRENT_TIMESTAMP | plain    |             |              | 
Indexes:
    "analytics_metrics_pkey" PRIMARY KEY, btree (id)
    "idx_analytics_metrics_tenant_id" btree (tenant_id)
Foreign-key constraints:
    "analytics_metrics_tenant_id_fkey" FOREIGN KEY (tenant_id) REFERENCES synapscale_db.tenants(id) ON UPDATE CASCADE ON DELETE CASCADE
Access method: heap

        Index "synapscale_db.analytics_metrics_pkey"
 Column | Type | Key? | Definition | Storage | Stats target 
--------+------+------+------------+---------+--------------
 id     | uuid | yes  | id         | plain   | 
primary key, btree, for table "synapscale_db.analytics_metrics"

                                            Table "synapscale_db.analytics_reports"
   Column    |           Type           | Collation | Nullable | Default | Storage  | Compression | Stats target | Description 
-------------+--------------------------+-----------+----------+---------+----------+-------------+--------------+-------------
 id          | uuid                     |           | not null |         | plain    |             |              | 
 name        | character varying(255)   |           | not null |         | extended |             |              | 
 description | text                     |           |          |         | extended |             |              | 
 query       | jsonb                    |           | not null |         | extended |             |              | 
 schedule    | character varying(50)    |           |          |         | extended |             |              | 
 owner_id    | uuid                     |           | not null |         | plain    |             |              | 
 is_active   | boolean                  |           | not null | true    | plain    |             |              | 
 created_at  | timestamp with time zone |           | not null | now()   | plain    |             |              | 
 updated_at  | timestamp with time zone |           | not null | now()   | plain    |             |              | 
 tenant_id   | uuid                     |           |          |         | plain    |             |              | 
Indexes:
    "analytics_reports_pkey" PRIMARY KEY, btree (id)
    "idx_analytics_reports_tenant_id" btree (tenant_id)
Foreign-key constraints:
    "analytics_reports_owner_id_fkey" FOREIGN KEY (owner_id) REFERENCES synapscale_db.users(id) ON UPDATE CASCADE ON DELETE CASCADE
    "analytics_reports_tenant_id_fkey" FOREIGN KEY (tenant_id) REFERENCES synapscale_db.tenants(id) ON UPDATE CASCADE ON DELETE CASCADE
Access method: heap

        Index "synapscale_db.analytics_reports_pkey"
 Column | Type | Key? | Definition | Storage | Stats target 
--------+------+------+------------+---------+--------------
 id     | uuid | yes  | id         | plain   | 
primary key, btree, for table "synapscale_db.analytics_reports"

                                                                                 Table "synapscale_db.audit_log"
   Column   |           Type           | Collation | Nullable |      Default      | Storage  | Compression | Stats target |                             Description                              
------------+--------------------------+-----------+----------+-------------------+----------+-------------+--------------+----------------------------------------------------------------------
 audit_id   | uuid                     |           | not null | gen_random_uuid() | plain    |             |              | UUID do registro de auditoria.
 table_name | text                     |           | not null |                   | extended |             |              | Nome da tabela modificada.
 record_id  | uuid                     |           | not null |                   | plain    |             |              | UUID do registro afetado.
 changed_by | uuid                     |           |          |                   | plain    |             |              | UUID do usuário que realizou a mudança.
 changed_at | timestamp with time zone |           | not null | now()             | plain    |             |              | Timestamp de quando a mudança ocorreu.
 operation  | text                     |           | not null |                   | extended |             |              | Tipo de operação aplicada: INSERT, UPDATE ou DELETE.
 diffs      | jsonb                    |           |          |                   | extended |             |              | JSONB com diferenças antes/depois do registro, sem incluir audit_id.
Indexes:
    "audit_log_pkey" PRIMARY KEY, btree (audit_id)
Check constraints:
    "audit_log_operation_check" CHECK (operation = ANY (ARRAY['INSERT'::text, 'UPDATE'::text, 'DELETE'::text]))
Foreign-key constraints:
    "audit_log_changed_by_fkey" FOREIGN KEY (changed_by) REFERENCES synapscale_db.users(id)
Access method: heap

             Index "synapscale_db.audit_log_pkey"
  Column  | Type | Key? | Definition | Storage | Stats target 
----------+------+------+------------+---------+--------------
 audit_id | uuid | yes  | audit_id   | plain   | 
primary key, btree, for table "synapscale_db.audit_log"

                                                             Table "synapscale_db.billing_events"
         Column         |           Type           | Collation | Nullable |           Default            | Storage  | Compression | Stats target | Description 
------------------------+--------------------------+-----------+----------+------------------------------+----------+-------------+--------------+-------------
 id                     | uuid                     |           | not null | gen_random_uuid()            | plain    |             |              | 
 user_id                | uuid                     |           | not null |                              | plain    |             |              | 
 workspace_id           | uuid                     |           |          |                              | plain    |             |              | 
 event_type             | character varying(50)    |           | not null |                              | extended |             |              | 
 amount_usd             | double precision         |           | not null |                              | plain    |             |              | 
 description            | text                     |           |          |                              | extended |             |              | 
 related_usage_log_id   | uuid                     |           |          |                              | plain    |             |              | 
 related_message_id     | uuid                     |           |          |                              | plain    |             |              | 
 invoice_id             | character varying(100)   |           |          |                              | extended |             |              | 
 payment_provider       | character varying(50)    |           |          |                              | extended |             |              | 
 payment_transaction_id | character varying(100)   |           |          |                              | extended |             |              | 
 billing_metadata       | jsonb                    |           |          |                              | extended |             |              | 
 status                 | character varying(20)    |           |          | 'pending'::character varying | extended |             |              | 
 processed_at           | timestamp with time zone |           |          |                              | plain    |             |              | 
 created_at             | timestamp with time zone |           | not null | now()                        | plain    |             |              | 
 tenant_id              | uuid                     |           |          |                              | plain    |             |              | 
 updated_at             | timestamp with time zone |           |          | CURRENT_TIMESTAMP            | plain    |             |              | 
Indexes:
    "billing_events_pkey" PRIMARY KEY, btree (id)
    "idx_billing_events_tenant_id" btree (tenant_id)
    "ix_billing_events_created_at" btree (created_at)
    "ix_billing_events_event_type" btree (event_type)
    "ix_billing_events_status" btree (status)
    "ix_billing_events_user_id" btree (user_id)
    "ix_billing_events_workspace_id" btree (workspace_id)
Foreign-key constraints:
    "billing_events_related_message_id_fkey" FOREIGN KEY (related_message_id) REFERENCES synapscale_db.llms_messages(id) ON DELETE SET NULL
    "billing_events_related_usage_log_id_fkey" FOREIGN KEY (related_usage_log_id) REFERENCES synapscale_db.llms_usage_logs(id) ON DELETE SET NULL
    "billing_events_tenant_id_fkey" FOREIGN KEY (tenant_id) REFERENCES synapscale_db.tenants(id) ON UPDATE CASCADE ON DELETE CASCADE
    "billing_events_user_id_fkey" FOREIGN KEY (user_id) REFERENCES synapscale_db.users(id) ON DELETE CASCADE
    "billing_events_workspace_id_fkey" FOREIGN KEY (workspace_id) REFERENCES synapscale_db.workspaces(id) ON DELETE SET NULL
Policies:
    POLICY "tenant_isolation_billing_events"
      USING ((tenant_id = current_tenant_id()))
    POLICY "tenant_isolation_billing_events_insert" FOR INSERT
      WITH CHECK ((tenant_id = current_tenant_id()))
Access method: heap

         Index "synapscale_db.billing_events_pkey"
 Column | Type | Key? | Definition | Storage | Stats target 
--------+------+------+------------+---------+--------------
 id     | uuid | yes  | id         | plain   | 
primary key, btree, for table "synapscale_db.billing_events"

                                                                           Table "synapscale_db.business_metrics"
         Column         |           Type           | Collation | Nullable |                          Default                           | Storage  | Compression | Stats target | Description 
------------------------+--------------------------+-----------+----------+------------------------------------------------------------+----------+-------------+--------------+-------------
 id                     | integer                  |           | not null | nextval('synapscale_db.business_metrics_id_seq'::regclass) | plain    |             |              | 
 date                   | timestamp with time zone |           | not null |                                                            | plain    |             |              | 
 period_type            | character varying(20)    |           | not null |                                                            | extended |             |              | 
 total_users            | integer                  |           | not null |                                                            | plain    |             |              | 
 new_users              | integer                  |           | not null |                                                            | plain    |             |              | 
 active_users           | integer                  |           | not null |                                                            | plain    |             |              | 
 churned_users          | integer                  |           | not null |                                                            | plain    |             |              | 
 total_sessions         | integer                  |           | not null |                                                            | plain    |             |              | 
 avg_session_duration   | double precision         |           | not null |                                                            | plain    |             |              | 
 total_page_views       | integer                  |           | not null |                                                            | plain    |             |              | 
 bounce_rate            | double precision         |           | not null |                                                            | plain    |             |              | 
 workflows_created      | integer                  |           | not null |                                                            | plain    |             |              | 
 workflows_executed     | integer                  |           | not null |                                                            | plain    |             |              | 
 components_published   | integer                  |           | not null |                                                            | plain    |             |              | 
 components_downloaded  | integer                  |           | not null |                                                            | plain    |             |              | 
 workspaces_created     | integer                  |           | not null |                                                            | plain    |             |              | 
 teams_formed           | integer                  |           | not null |                                                            | plain    |             |              | 
 collaborative_sessions | integer                  |           | not null |                                                            | plain    |             |              | 
 total_revenue          | double precision         |           | not null |                                                            | plain    |             |              | 
 recurring_revenue      | double precision         |           | not null |                                                            | plain    |             |              | 
 marketplace_revenue    | double precision         |           | not null |                                                            | plain    |             |              | 
 avg_revenue_per_user   | double precision         |           | not null |                                                            | plain    |             |              | 
 error_rate             | double precision         |           | not null |                                                            | plain    |             |              | 
 avg_response_time      | double precision         |           | not null |                                                            | plain    |             |              | 
 uptime_percentage      | double precision         |           | not null |                                                            | plain    |             |              | 
 customer_satisfaction  | double precision         |           | not null |                                                            | plain    |             |              | 
 created_at             | timestamp with time zone |           | not null |                                                            | plain    |             |              | 
 updated_at             | timestamp with time zone |           | not null |                                                            | plain    |             |              | 
 tenant_id              | uuid                     |           |          |                                                            | plain    |             |              | 
Indexes:
    "business_metrics_pkey" PRIMARY KEY, btree (id)
    "idx_business_metrics_tenant_id" btree (tenant_id)
    "ix_public_business_metrics_date" btree (date)
    "ix_public_business_metrics_id" btree (id)
Foreign-key constraints:
    "business_metrics_tenant_id_fkey" FOREIGN KEY (tenant_id) REFERENCES synapscale_db.tenants(id) ON UPDATE CASCADE ON DELETE CASCADE
Access method: heap

           Sequence "synapscale_db.business_metrics_id_seq"
  Type   | Start | Minimum |  Maximum   | Increment | Cycles? | Cache 
---------+-------+---------+------------+-----------+---------+-------
 integer |     1 |       1 | 2147483647 |         1 | no      |     1
Owned by: synapscale_db.business_metrics.id

          Index "synapscale_db.business_metrics_pkey"
 Column |  Type   | Key? | Definition | Storage | Stats target 
--------+---------+------+------------+---------+--------------
 id     | integer | yes  | id         | plain   | 
primary key, btree, for table "synapscale_db.business_metrics"

                                                        Table "synapscale_db.campaign_contacts"
     Column      |           Type           | Collation | Nullable |           Default            | Storage  | Compression | Stats target | Description 
-----------------+--------------------------+-----------+----------+------------------------------+----------+-------------+--------------+-------------
 id              | uuid                     |           | not null | gen_random_uuid()            | plain    |             |              | 
 campaign_id     | uuid                     |           | not null |                              | plain    |             |              | 
 contact_id      | uuid                     |           | not null |                              | plain    |             |              | 
 status          | character varying(50)    |           |          | 'pending'::character varying | extended |             |              | 
 sent_at         | timestamp with time zone |           |          |                              | plain    |             |              | 
 opened_at       | timestamp with time zone |           |          |                              | plain    |             |              | 
 clicked_at      | timestamp with time zone |           |          |                              | plain    |             |              | 
 bounced_at      | timestamp with time zone |           |          |                              | plain    |             |              | 
 unsubscribed_at | timestamp with time zone |           |          |                              | plain    |             |              | 
 error_message   | text                     |           |          |                              | extended |             |              | 
 created_at      | timestamp with time zone |           |          | CURRENT_TIMESTAMP            | plain    |             |              | 
 updated_at      | timestamp with time zone |           |          | CURRENT_TIMESTAMP            | plain    |             |              | 
 tenant_id       | uuid                     |           |          |                              | plain    |             |              | 
Indexes:
    "campaign_contacts_pkey" PRIMARY KEY, btree (id)
    "campaign_contacts_campaign_id_contact_id_key" UNIQUE CONSTRAINT, btree (campaign_id, contact_id)
    "idx_campaign_contacts_status" btree (status)
    "idx_campaign_contacts_tenant_id" btree (tenant_id)
Foreign-key constraints:
    "campaign_contacts_campaign_id_fkey" FOREIGN KEY (campaign_id) REFERENCES synapscale_db.campaigns(id) ON DELETE CASCADE
    "campaign_contacts_contact_id_fkey" FOREIGN KEY (contact_id) REFERENCES synapscale_db.contacts(id) ON DELETE CASCADE
    "campaign_contacts_tenant_id_fkey" FOREIGN KEY (tenant_id) REFERENCES synapscale_db.tenants(id) ON UPDATE CASCADE ON DELETE CASCADE
Access method: heap

Index "synapscale_db.campaign_contacts_campaign_id_contact_id_key"
   Column    | Type | Key? | Definition  | Storage | Stats target 
-------------+------+------+-------------+---------+--------------
 campaign_id | uuid | yes  | campaign_id | plain   | 
 contact_id  | uuid | yes  | contact_id  | plain   | 
unique, btree, for table "synapscale_db.campaign_contacts"

        Index "synapscale_db.campaign_contacts_pkey"
 Column | Type | Key? | Definition | Storage | Stats target 
--------+------+------+------------+---------+--------------
 id     | uuid | yes  | id         | plain   | 
primary key, btree, for table "synapscale_db.campaign_contacts"

                                                          Table "synapscale_db.campaigns"
    Column    |           Type           | Collation | Nullable |          Default           | Storage  | Compression | Stats target | Description 
--------------+--------------------------+-----------+----------+----------------------------+----------+-------------+--------------+-------------
 id           | uuid                     |           | not null | gen_random_uuid()          | plain    |             |              | 
 tenant_id    | uuid                     |           | not null |                            | plain    |             |              | 
 name         | character varying(255)   |           | not null |                            | extended |             |              | 
 description  | text                     |           |          |                            | extended |             |              | 
 type         | character varying(50)    |           | not null |                            | extended |             |              | 
 status       | character varying(50)    |           |          | 'draft'::character varying | extended |             |              | 
 subject      | character varying(255)   |           |          |                            | extended |             |              | 
 content      | text                     |           |          |                            | extended |             |              | 
 template_id  | uuid                     |           |          |                            | plain    |             |              | 
 scheduled_at | timestamp with time zone |           |          |                            | plain    |             |              | 
 sent_at      | timestamp with time zone |           |          |                            | plain    |             |              | 
 stats        | jsonb                    |           |          | '{}'::jsonb                | extended |             |              | 
 settings     | jsonb                    |           |          | '{}'::jsonb                | extended |             |              | 
 created_by   | uuid                     |           | not null |                            | plain    |             |              | 
 created_at   | timestamp with time zone |           |          | CURRENT_TIMESTAMP          | plain    |             |              | 
 updated_at   | timestamp with time zone |           |          | CURRENT_TIMESTAMP          | plain    |             |              | 
Indexes:
    "campaigns_pkey" PRIMARY KEY, btree (id)
    "idx_campaigns_status" btree (status)
    "idx_campaigns_tenant_id" btree (tenant_id)
Foreign-key constraints:
    "campaigns_created_by_fkey" FOREIGN KEY (created_by) REFERENCES synapscale_db.users(id) ON DELETE SET NULL
    "campaigns_tenant_id_fkey" FOREIGN KEY (tenant_id) REFERENCES synapscale_db.tenants(id) ON DELETE CASCADE
Referenced by:
    TABLE "synapscale_db.campaign_contacts" CONSTRAINT "campaign_contacts_campaign_id_fkey" FOREIGN KEY (campaign_id) REFERENCES synapscale_db.campaigns(id) ON DELETE CASCADE
Policies:
    POLICY "tenant_isolation_campaigns_delete" FOR DELETE
      USING (is_authorized_tenant(tenant_id))
    POLICY "tenant_isolation_campaigns_insert" FOR INSERT
      WITH CHECK (is_authorized_tenant(tenant_id))
    POLICY "tenant_isolation_campaigns_select" FOR SELECT
      USING (is_authorized_tenant(tenant_id))
    POLICY "tenant_isolation_campaigns_update" FOR UPDATE
      USING (is_authorized_tenant(tenant_id))
      WITH CHECK (is_authorized_tenant(tenant_id))
Access method: heap

            Index "synapscale_db.campaigns_pkey"
 Column | Type | Key? | Definition | Storage | Stats target 
--------+------+------+------------+---------+--------------
 id     | uuid | yes  | id         | plain   | 
primary key, btree, for table "synapscale_db.campaigns"

                                                 Table "synapscale_db.component_downloads"
    Column     |           Type           | Collation | Nullable |      Default      | Storage  | Compression | Stats target | Description 
---------------+--------------------------+-----------+----------+-------------------+----------+-------------+--------------+-------------
 id            | uuid                     |           | not null |                   | plain    |             |              | 
 component_id  | uuid                     |           | not null |                   | plain    |             |              | 
 user_id       | uuid                     |           | not null |                   | plain    |             |              | 
 version       | character varying(20)    |           | not null |                   | extended |             |              | 
 download_type | character varying(20)    |           | not null |                   | extended |             |              | 
 ip_address    | character varying(45)    |           |          |                   | extended |             |              | 
 user_agent    | character varying(500)   |           |          |                   | extended |             |              | 
 referrer      | character varying(500)   |           |          |                   | extended |             |              | 
 status        | character varying(20)    |           | not null |                   | extended |             |              | 
 file_size     | integer                  |           |          |                   | plain    |             |              | 
 created_at    | timestamp with time zone |           | not null |                   | plain    |             |              | 
 completed_at  | timestamp with time zone |           |          |                   | plain    |             |              | 
 tenant_id     | uuid                     |           |          |                   | plain    |             |              | 
 updated_at    | timestamp with time zone |           |          | CURRENT_TIMESTAMP | plain    |             |              | 
Indexes:
    "component_downloads_pkey" PRIMARY KEY, btree (id)
    "idx_component_downloads_status" btree (status)
    "idx_component_downloads_tenant_id" btree (tenant_id)
    "ix_public_component_downloads_component_id" btree (component_id)
    "ix_public_component_downloads_user_id" btree (user_id)
Foreign-key constraints:
    "component_downloads_component_id_fkey" FOREIGN KEY (component_id) REFERENCES synapscale_db.marketplace_components(id)
    "component_downloads_tenant_id_fkey" FOREIGN KEY (tenant_id) REFERENCES synapscale_db.tenants(id) ON UPDATE CASCADE ON DELETE CASCADE
    "component_downloads_user_id_fkey" FOREIGN KEY (user_id) REFERENCES synapscale_db.users(id) ON DELETE CASCADE
Access method: heap

       Index "synapscale_db.component_downloads_pkey"
 Column | Type | Key? | Definition | Storage | Stats target 
--------+------+------+------------+---------+--------------
 id     | uuid | yes  | id         | plain   | 
primary key, btree, for table "synapscale_db.component_downloads"

                                                      Table "synapscale_db.component_purchases"
         Column          |           Type           | Collation | Nullable |      Default      | Storage  | Compression | Stats target | Description 
-------------------------+--------------------------+-----------+----------+-------------------+----------+-------------+--------------+-------------
 id                      | uuid                     |           | not null |                   | plain    |             |              | 
 component_id            | uuid                     |           | not null |                   | plain    |             |              | 
 user_id                 | uuid                     |           | not null |                   | plain    |             |              | 
 amount                  | double precision         |           | not null |                   | plain    |             |              | 
 currency                | character varying(3)     |           | not null |                   | extended |             |              | 
 payment_method          | character varying(50)    |           |          |                   | extended |             |              | 
 transaction_id          | character varying(100)   |           | not null |                   | extended |             |              | 
 payment_provider        | character varying(50)    |           |          |                   | extended |             |              | 
 provider_transaction_id | character varying(100)   |           |          |                   | extended |             |              | 
 status                  | character varying(20)    |           | not null |                   | extended |             |              | 
 license_key             | character varying(100)   |           |          |                   | extended |             |              | 
 license_expires_at      | timestamp with time zone |           |          |                   | plain    |             |              | 
 created_at              | timestamp with time zone |           | not null |                   | plain    |             |              | 
 completed_at            | timestamp with time zone |           |          |                   | plain    |             |              | 
 refunded_at             | timestamp with time zone |           |          |                   | plain    |             |              | 
 tenant_id               | uuid                     |           |          |                   | plain    |             |              | 
 updated_at              | timestamp with time zone |           |          | CURRENT_TIMESTAMP | plain    |             |              | 
Indexes:
    "component_purchases_pkey" PRIMARY KEY, btree (id)
    "component_purchases_license_key_key" UNIQUE CONSTRAINT, btree (license_key)
    "component_purchases_transaction_id_key" UNIQUE CONSTRAINT, btree (transaction_id)
    "idx_component_purchases_status" btree (status)
    "idx_component_purchases_tenant_id" btree (tenant_id)
    "ix_public_component_purchases_component_id" btree (component_id)
    "ix_public_component_purchases_user_id" btree (user_id)
Foreign-key constraints:
    "component_purchases_component_id_fkey" FOREIGN KEY (component_id) REFERENCES synapscale_db.marketplace_components(id)
    "component_purchases_tenant_id_fkey" FOREIGN KEY (tenant_id) REFERENCES synapscale_db.tenants(id) ON UPDATE CASCADE ON DELETE CASCADE
    "component_purchases_user_id_fkey" FOREIGN KEY (user_id) REFERENCES synapscale_db.users(id) ON DELETE CASCADE
Access method: heap

              Index "synapscale_db.component_purchases_license_key_key"
   Column    |          Type          | Key? | Definition  | Storage  | Stats target 
-------------+------------------------+------+-------------+----------+--------------
 license_key | character varying(100) | yes  | license_key | extended | 
unique, btree, for table "synapscale_db.component_purchases"

       Index "synapscale_db.component_purchases_pkey"
 Column | Type | Key? | Definition | Storage | Stats target 
--------+------+------+------------+---------+--------------
 id     | uuid | yes  | id         | plain   | 
primary key, btree, for table "synapscale_db.component_purchases"

               Index "synapscale_db.component_purchases_transaction_id_key"
     Column     |          Type          | Key? |   Definition   | Storage  | Stats target 
----------------+------------------------+------+----------------+----------+--------------
 transaction_id | character varying(100) | yes  | transaction_id | extended | 
unique, btree, for table "synapscale_db.component_purchases"

                                                 Table "synapscale_db.component_ratings"
        Column         |           Type           | Collation | Nullable | Default | Storage  | Compression | Stats target | Description 
-----------------------+--------------------------+-----------+----------+---------+----------+-------------+--------------+-------------
 id                    | uuid                     |           | not null |         | plain    |             |              | 
 component_id          | uuid                     |           | not null |         | plain    |             |              | 
 user_id               | uuid                     |           | not null |         | plain    |             |              | 
 rating                | integer                  |           | not null |         | plain    |             |              | 
 title                 | character varying(200)   |           |          |         | extended |             |              | 
 review                | text                     |           |          |         | extended |             |              | 
 ease_of_use           | integer                  |           |          |         | plain    |             |              | 
 documentation_quality | integer                  |           |          |         | plain    |             |              | 
 performance           | integer                  |           |          |         | plain    |             |              | 
 reliability           | integer                  |           |          |         | plain    |             |              | 
 support_quality       | integer                  |           |          |         | plain    |             |              | 
 version_used          | character varying(20)    |           |          |         | extended |             |              | 
 use_case              | character varying(100)   |           |          |         | extended |             |              | 
 experience_level      | character varying(20)    |           |          |         | extended |             |              | 
 helpful_count         | integer                  |           | not null |         | plain    |             |              | 
 reported_count        | integer                  |           | not null |         | plain    |             |              | 
 is_verified_purchase  | boolean                  |           | not null |         | plain    |             |              | 
 is_featured           | boolean                  |           | not null |         | plain    |             |              | 
 status                | character varying(20)    |           | not null |         | extended |             |              | 
 created_at            | timestamp with time zone |           | not null |         | plain    |             |              | 
 updated_at            | timestamp with time zone |           | not null |         | plain    |             |              | 
 tenant_id             | uuid                     |           |          |         | plain    |             |              | 
Indexes:
    "component_ratings_pkey" PRIMARY KEY, btree (id)
    "idx_component_ratings_status" btree (status)
    "idx_component_ratings_tenant_id" btree (tenant_id)
    "ix_public_component_ratings_component_id" btree (component_id)
    "ix_public_component_ratings_user_id" btree (user_id)
Foreign-key constraints:
    "component_ratings_component_id_fkey" FOREIGN KEY (component_id) REFERENCES synapscale_db.marketplace_components(id)
    "component_ratings_tenant_id_fkey" FOREIGN KEY (tenant_id) REFERENCES synapscale_db.tenants(id) ON UPDATE CASCADE ON DELETE CASCADE
    "component_ratings_user_id_fkey" FOREIGN KEY (user_id) REFERENCES synapscale_db.users(id) ON DELETE CASCADE
Access method: heap

        Index "synapscale_db.component_ratings_pkey"
 Column | Type | Key? | Definition | Storage | Stats target 
--------+------+------+------------+---------+--------------
 id     | uuid | yes  | id         | plain   | 
primary key, btree, for table "synapscale_db.component_ratings"

                                                     Table "synapscale_db.component_versions"
        Column        |           Type           | Collation | Nullable |      Default      | Storage  | Compression | Stats target | Description 
----------------------+--------------------------+-----------+----------+-------------------+----------+-------------+--------------+-------------
 id                   | uuid                     |           | not null |                   | plain    |             |              | 
 component_id         | uuid                     |           | not null |                   | plain    |             |              | 
 version              | character varying(20)    |           | not null |                   | extended |             |              | 
 is_latest            | boolean                  |           | not null |                   | plain    |             |              | 
 is_stable            | boolean                  |           | not null |                   | plain    |             |              | 
 changelog            | text                     |           |          |                   | extended |             |              | 
 breaking_changes     | text                     |           |          |                   | extended |             |              | 
 migration_guide      | text                     |           |          |                   | extended |             |              | 
 component_data       | jsonb                    |           | not null |                   | extended |             |              | 
 file_size            | integer                  |           |          |                   | plain    |             |              | 
 min_platform_version | character varying(20)    |           |          |                   | extended |             |              | 
 max_platform_version | character varying(20)    |           |          |                   | extended |             |              | 
 dependencies         | jsonb                    |           |          |                   | extended |             |              | 
 download_count       | integer                  |           | not null |                   | plain    |             |              | 
 status               | character varying(20)    |           | not null |                   | extended |             |              | 
 created_at           | timestamp with time zone |           | not null |                   | plain    |             |              | 
 deprecated_at        | timestamp with time zone |           |          |                   | plain    |             |              | 
 tenant_id            | uuid                     |           |          |                   | plain    |             |              | 
 updated_at           | timestamp with time zone |           |          | CURRENT_TIMESTAMP | plain    |             |              | 
Indexes:
    "component_versions_pkey" PRIMARY KEY, btree (id)
    "idx_component_versions_status" btree (status)
    "idx_component_versions_tenant_id" btree (tenant_id)
    "ix_public_component_versions_component_id" btree (component_id)
Foreign-key constraints:
    "component_versions_component_id_fkey" FOREIGN KEY (component_id) REFERENCES synapscale_db.marketplace_components(id)
    "component_versions_tenant_id_fkey" FOREIGN KEY (tenant_id) REFERENCES synapscale_db.tenants(id) ON UPDATE CASCADE ON DELETE CASCADE
Access method: heap

       Index "synapscale_db.component_versions_pkey"
 Column | Type | Key? | Definition | Storage | Stats target 
--------+------+------+------------+---------+--------------
 id     | uuid | yes  | id         | plain   | 
primary key, btree, for table "synapscale_db.component_versions"

                                                  Table "synapscale_db.contact_events"
   Column    |           Type           | Collation | Nullable |      Default      | Storage  | Compression | Stats target | Description 
-------------+--------------------------+-----------+----------+-------------------+----------+-------------+--------------+-------------
 id          | uuid                     |           | not null | gen_random_uuid() | plain    |             |              | 
 contact_id  | uuid                     |           | not null |                   | plain    |             |              | 
 event_type  | character varying(100)   |           | not null |                   | extended |             |              | 
 event_data  | jsonb                    |           |          | '{}'::jsonb       | extended |             |              | 
 occurred_at | timestamp with time zone |           |          | CURRENT_TIMESTAMP | plain    |             |              | 
 created_at  | timestamp with time zone |           |          | CURRENT_TIMESTAMP | plain    |             |              | 
 tenant_id   | uuid                     |           |          |                   | plain    |             |              | 
 updated_at  | timestamp with time zone |           |          | CURRENT_TIMESTAMP | plain    |             |              | 
Indexes:
    "contact_events_pkey" PRIMARY KEY, btree (id)
    "idx_contact_events_contact_id" btree (contact_id)
    "idx_contact_events_tenant_id" btree (tenant_id)
Foreign-key constraints:
    "contact_events_contact_id_fkey" FOREIGN KEY (contact_id) REFERENCES synapscale_db.contacts(id) ON DELETE CASCADE
    "contact_events_tenant_id_fkey" FOREIGN KEY (tenant_id) REFERENCES synapscale_db.tenants(id) ON UPDATE CASCADE ON DELETE CASCADE
Access method: heap

         Index "synapscale_db.contact_events_pkey"
 Column | Type | Key? | Definition | Storage | Stats target 
--------+------+------+------------+---------+--------------
 id     | uuid | yes  | id         | plain   | 
primary key, btree, for table "synapscale_db.contact_events"

                                                      Table "synapscale_db.contact_interactions"
    Column    |           Type           | Collation | Nullable |            Default             | Storage  | Compression | Stats target | Description 
--------------+--------------------------+-----------+----------+--------------------------------+----------+-------------+--------------+-------------
 id           | uuid                     |           | not null | gen_random_uuid()              | plain    |             |              | 
 contact_id   | uuid                     |           | not null |                                | plain    |             |              | 
 user_id      | uuid                     |           |          |                                | plain    |             |              | 
 type         | character varying(50)    |           | not null |                                | extended |             |              | 
 channel      | character varying(50)    |           |          |                                | extended |             |              | 
 subject      | character varying(255)   |           |          |                                | extended |             |              | 
 content      | text                     |           |          |                                | extended |             |              | 
 direction    | character varying(20)    |           |          | 'outbound'::character varying  | extended |             |              | 
 status       | character varying(50)    |           |          | 'completed'::character varying | extended |             |              | 
 scheduled_at | timestamp with time zone |           |          |                                | plain    |             |              | 
 completed_at | timestamp with time zone |           |          |                                | plain    |             |              | 
 metadata     | jsonb                    |           |          | '{}'::jsonb                    | extended |             |              | 
 created_at   | timestamp with time zone |           |          | CURRENT_TIMESTAMP              | plain    |             |              | 
 updated_at   | timestamp with time zone |           |          | CURRENT_TIMESTAMP              | plain    |             |              | 
 tenant_id    | uuid                     |           |          |                                | plain    |             |              | 
Indexes:
    "contact_interactions_pkey" PRIMARY KEY, btree (id)
    "idx_contact_interactions_contact_id" btree (contact_id)
    "idx_contact_interactions_created_at" btree (created_at)
    "idx_contact_interactions_status" btree (status)
    "idx_contact_interactions_tenant_id" btree (tenant_id)
    "idx_contact_interactions_user_id" btree (user_id)
Foreign-key constraints:
    "contact_interactions_contact_id_fkey" FOREIGN KEY (contact_id) REFERENCES synapscale_db.contacts(id) ON DELETE CASCADE
    "contact_interactions_tenant_id_fkey" FOREIGN KEY (tenant_id) REFERENCES synapscale_db.tenants(id) ON UPDATE CASCADE ON DELETE CASCADE
    "contact_interactions_user_id_fkey" FOREIGN KEY (user_id) REFERENCES synapscale_db.users(id) ON DELETE CASCADE
Access method: heap

      Index "synapscale_db.contact_interactions_pkey"
 Column | Type | Key? | Definition | Storage | Stats target 
--------+------+------+------------+---------+--------------
 id     | uuid | yes  | id         | plain   | 
primary key, btree, for table "synapscale_db.contact_interactions"

                                                  Table "synapscale_db.contact_list_memberships"
   Column   |           Type           | Collation | Nullable |           Default           | Storage  | Compression | Stats target | Description 
------------+--------------------------+-----------+----------+-----------------------------+----------+-------------+--------------+-------------
 id         | uuid                     |           | not null | gen_random_uuid()           | plain    |             |              | 
 list_id    | uuid                     |           | not null |                             | plain    |             |              | 
 contact_id | uuid                     |           | not null |                             | plain    |             |              | 
 added_by   | uuid                     |           |          |                             | plain    |             |              | 
 added_at   | timestamp with time zone |           |          | CURRENT_TIMESTAMP           | plain    |             |              | 
 status     | character varying(50)    |           |          | 'active'::character varying | extended |             |              | 
 tenant_id  | uuid                     |           |          |                             | plain    |             |              | 
 created_at | timestamp with time zone |           |          | CURRENT_TIMESTAMP           | plain    |             |              | 
 updated_at | timestamp with time zone |           |          | CURRENT_TIMESTAMP           | plain    |             |              | 
Indexes:
    "contact_list_memberships_pkey" PRIMARY KEY, btree (id)
    "contact_list_memberships_list_id_contact_id_key" UNIQUE CONSTRAINT, btree (list_id, contact_id)
    "idx_contact_list_memberships_status" btree (status)
    "idx_contact_list_memberships_tenant_id" btree (tenant_id)
Foreign-key constraints:
    "contact_list_memberships_added_by_fkey" FOREIGN KEY (added_by) REFERENCES synapscale_db.users(id) ON DELETE SET NULL
    "contact_list_memberships_contact_id_fkey" FOREIGN KEY (contact_id) REFERENCES synapscale_db.contacts(id) ON DELETE CASCADE
    "contact_list_memberships_list_id_fkey" FOREIGN KEY (list_id) REFERENCES synapscale_db.contact_lists(id) ON DELETE CASCADE
    "contact_list_memberships_tenant_id_fkey" FOREIGN KEY (tenant_id) REFERENCES synapscale_db.tenants(id) ON UPDATE CASCADE ON DELETE CASCADE
Access method: heap

Index "synapscale_db.contact_list_memberships_list_id_contact_id_key"
   Column   | Type | Key? | Definition | Storage | Stats target 
------------+------+------+------------+---------+--------------
 list_id    | uuid | yes  | list_id    | plain   | 
 contact_id | uuid | yes  | contact_id | plain   | 
unique, btree, for table "synapscale_db.contact_list_memberships"

    Index "synapscale_db.contact_list_memberships_pkey"
 Column | Type | Key? | Definition | Storage | Stats target 
--------+------+------+------------+---------+--------------
 id     | uuid | yes  | id         | plain   | 
primary key, btree, for table "synapscale_db.contact_list_memberships"

                                                        Table "synapscale_db.contact_lists"
   Column    |           Type           | Collation | Nullable |           Default           | Storage  | Compression | Stats target | Description 
-------------+--------------------------+-----------+----------+-----------------------------+----------+-------------+--------------+-------------
 id          | uuid                     |           | not null | gen_random_uuid()           | plain    |             |              | 
 tenant_id   | uuid                     |           | not null |                             | plain    |             |              | 
 name        | character varying(255)   |           | not null |                             | extended |             |              | 
 description | text                     |           |          |                             | extended |             |              | 
 type        | character varying(50)    |           |          | 'static'::character varying | extended |             |              | 
 filters     | jsonb                    |           |          | '{}'::jsonb                 | extended |             |              | 
 created_at  | timestamp with time zone |           |          | CURRENT_TIMESTAMP           | plain    |             |              | 
 updated_at  | timestamp with time zone |           |          | CURRENT_TIMESTAMP           | plain    |             |              | 
Indexes:
    "contact_lists_pkey" PRIMARY KEY, btree (id)
    "idx_contact_lists_tenant_id" btree (tenant_id)
Foreign-key constraints:
    "contact_lists_tenant_id_fkey" FOREIGN KEY (tenant_id) REFERENCES synapscale_db.tenants(id) ON DELETE CASCADE
Referenced by:
    TABLE "synapscale_db.contact_list_memberships" CONSTRAINT "contact_list_memberships_list_id_fkey" FOREIGN KEY (list_id) REFERENCES synapscale_db.contact_lists(id) ON DELETE CASCADE
Policies:
    POLICY "tenant_isolation_contact_lists"
      USING ((tenant_id = current_tenant_id()))
    POLICY "tenant_isolation_contact_lists_insert" FOR INSERT
      WITH CHECK ((tenant_id = current_tenant_id()))
Access method: heap

          Index "synapscale_db.contact_lists_pkey"
 Column | Type | Key? | Definition | Storage | Stats target 
--------+------+------+------------+---------+--------------
 id     | uuid | yes  | id         | plain   | 
primary key, btree, for table "synapscale_db.contact_lists"

                                                      Table "synapscale_db.contact_notes"
   Column   |           Type           | Collation | Nullable |          Default          | Storage  | Compression | Stats target | Description 
------------+--------------------------+-----------+----------+---------------------------+----------+-------------+--------------+-------------
 id         | uuid                     |           | not null | gen_random_uuid()         | plain    |             |              | 
 contact_id | uuid                     |           | not null |                           | plain    |             |              | 
 user_id    | uuid                     |           | not null |                           | plain    |             |              | 
 content    | text                     |           | not null |                           | extended |             |              | 
 type       | character varying(50)    |           |          | 'note'::character varying | extended |             |              | 
 is_private | boolean                  |           |          | false                     | plain    |             |              | 
 created_at | timestamp with time zone |           |          | CURRENT_TIMESTAMP         | plain    |             |              | 
 updated_at | timestamp with time zone |           |          | CURRENT_TIMESTAMP         | plain    |             |              | 
 tenant_id  | uuid                     |           |          |                           | plain    |             |              | 
Indexes:
    "contact_notes_pkey" PRIMARY KEY, btree (id)
    "idx_contact_notes_tenant_id" btree (tenant_id)
    "idx_contact_notes_user_id" btree (user_id)
Foreign-key constraints:
    "contact_notes_contact_id_fkey" FOREIGN KEY (contact_id) REFERENCES synapscale_db.contacts(id) ON DELETE CASCADE
    "contact_notes_tenant_id_fkey" FOREIGN KEY (tenant_id) REFERENCES synapscale_db.tenants(id) ON UPDATE CASCADE ON DELETE CASCADE
    "contact_notes_user_id_fkey" FOREIGN KEY (user_id) REFERENCES synapscale_db.users(id) ON DELETE CASCADE
Access method: heap

          Index "synapscale_db.contact_notes_pkey"
 Column | Type | Key? | Definition | Storage | Stats target 
--------+------+------+------------+---------+--------------
 id     | uuid | yes  | id         | plain   | 
primary key, btree, for table "synapscale_db.contact_notes"

                                                    Table "synapscale_db.contact_sources"
      Column      |           Type           | Collation | Nullable |      Default      | Storage  | Compression | Stats target | Description 
------------------+--------------------------+-----------+----------+-------------------+----------+-------------+--------------+-------------
 id               | uuid                     |           | not null | gen_random_uuid() | plain    |             |              | 
 tenant_id        | uuid                     |           | not null |                   | plain    |             |              | 
 name             | character varying(100)   |           | not null |                   | extended |             |              | 
 description      | text                     |           |          |                   | extended |             |              | 
 integration_type | character varying(50)    |           |          |                   | extended |             |              | 
 config           | jsonb                    |           |          | '{}'::jsonb       | extended |             |              | 
 is_active        | boolean                  |           |          | true              | plain    |             |              | 
 created_at       | timestamp with time zone |           |          | CURRENT_TIMESTAMP | plain    |             |              | 
 updated_at       | timestamp with time zone |           |          | CURRENT_TIMESTAMP | plain    |             |              | 
Indexes:
    "contact_sources_pkey" PRIMARY KEY, btree (id)
    "contact_sources_tenant_id_name_key" UNIQUE CONSTRAINT, btree (tenant_id, name)
Foreign-key constraints:
    "contact_sources_tenant_id_fkey" FOREIGN KEY (tenant_id) REFERENCES synapscale_db.tenants(id) ON DELETE CASCADE
Referenced by:
    TABLE "synapscale_db.contacts" CONSTRAINT "contacts_source_id_fkey" FOREIGN KEY (source_id) REFERENCES synapscale_db.contact_sources(id)
Access method: heap

         Index "synapscale_db.contact_sources_pkey"
 Column | Type | Key? | Definition | Storage | Stats target 
--------+------+------+------------+---------+--------------
 id     | uuid | yes  | id         | plain   | 
primary key, btree, for table "synapscale_db.contact_sources"

             Index "synapscale_db.contact_sources_tenant_id_name_key"
  Column   |          Type          | Key? | Definition | Storage  | Stats target 
-----------+------------------------+------+------------+----------+--------------
 tenant_id | uuid                   | yes  | tenant_id  | plain    | 
 name      | character varying(100) | yes  | name       | extended | 
unique, btree, for table "synapscale_db.contact_sources"

                                                         Table "synapscale_db.contact_tags"
   Column    |           Type           | Collation | Nullable |           Default            | Storage  | Compression | Stats target | Description 
-------------+--------------------------+-----------+----------+------------------------------+----------+-------------+--------------+-------------
 id          | uuid                     |           | not null | gen_random_uuid()            | plain    |             |              | 
 tenant_id   | uuid                     |           | not null |                              | plain    |             |              | 
 name        | character varying(100)   |           | not null |                              | extended |             |              | 
 color       | character varying(7)     |           |          | '#6B7280'::character varying | extended |             |              | 
 description | text                     |           |          |                              | extended |             |              | 
 created_at  | timestamp with time zone |           |          | CURRENT_TIMESTAMP            | plain    |             |              | 
 updated_at  | timestamp with time zone |           |          | CURRENT_TIMESTAMP            | plain    |             |              | 
Indexes:
    "contact_tags_pkey" PRIMARY KEY, btree (id)
    "contact_tags_tenant_id_name_key" UNIQUE CONSTRAINT, btree (tenant_id, name)
Foreign-key constraints:
    "contact_tags_tenant_id_fkey" FOREIGN KEY (tenant_id) REFERENCES synapscale_db.tenants(id) ON DELETE CASCADE
Access method: heap

          Index "synapscale_db.contact_tags_pkey"
 Column | Type | Key? | Definition | Storage | Stats target 
--------+------+------+------------+---------+--------------
 id     | uuid | yes  | id         | plain   | 
primary key, btree, for table "synapscale_db.contact_tags"

              Index "synapscale_db.contact_tags_tenant_id_name_key"
  Column   |          Type          | Key? | Definition | Storage  | Stats target 
-----------+------------------------+------+------------+----------+--------------
 tenant_id | uuid                   | yes  | tenant_id  | plain    | 
 name      | character varying(100) | yes  | name       | extended | 
unique, btree, for table "synapscale_db.contact_tags"

                                                           Table "synapscale_db.contacts"
    Column     |           Type           | Collation | Nullable |           Default           | Storage  | Compression | Stats target | Description 
---------------+--------------------------+-----------+----------+-----------------------------+----------+-------------+--------------+-------------
 id            | uuid                     |           | not null | gen_random_uuid()           | plain    |             |              | 
 tenant_id     | uuid                     |           | not null |                             | plain    |             |              | 
 email         | character varying(255)   |           | not null |                             | extended |             |              | 
 first_name    | character varying(100)   |           |          |                             | extended |             |              | 
 last_name     | character varying(100)   |           |          |                             | extended |             |              | 
 phone         | character varying(50)    |           |          |                             | extended |             |              | 
 company       | character varying(255)   |           |          |                             | extended |             |              | 
 job_title     | character varying(255)   |           |          |                             | extended |             |              | 
 status        | character varying(50)    |           |          | 'active'::character varying | extended |             |              | 
 lead_score    | integer                  |           |          | 0                           | plain    |             |              | 
 source_id     | uuid                     |           |          |                             | plain    |             |              | 
 custom_fields | jsonb                    |           |          | '{}'::jsonb                 | extended |             |              | 
 tags          | text[]                   |           |          |                             | extended |             |              | 
 created_at    | timestamp with time zone |           |          | CURRENT_TIMESTAMP           | plain    |             |              | 
 updated_at    | timestamp with time zone |           |          | CURRENT_TIMESTAMP           | plain    |             |              | 
Indexes:
    "contacts_pkey" PRIMARY KEY, btree (id)
    "contacts_tenant_id_email_key" UNIQUE CONSTRAINT, btree (tenant_id, email)
    "idx_contacts_email" btree (email)
    "idx_contacts_status" btree (status)
    "idx_contacts_tenant_id" btree (tenant_id)
Foreign-key constraints:
    "contacts_source_id_fkey" FOREIGN KEY (source_id) REFERENCES synapscale_db.contact_sources(id)
    "contacts_tenant_id_fkey" FOREIGN KEY (tenant_id) REFERENCES synapscale_db.tenants(id) ON DELETE CASCADE
Referenced by:
    TABLE "synapscale_db.campaign_contacts" CONSTRAINT "campaign_contacts_contact_id_fkey" FOREIGN KEY (contact_id) REFERENCES synapscale_db.contacts(id) ON DELETE CASCADE
    TABLE "synapscale_db.contact_events" CONSTRAINT "contact_events_contact_id_fkey" FOREIGN KEY (contact_id) REFERENCES synapscale_db.contacts(id) ON DELETE CASCADE
    TABLE "synapscale_db.contact_interactions" CONSTRAINT "contact_interactions_contact_id_fkey" FOREIGN KEY (contact_id) REFERENCES synapscale_db.contacts(id) ON DELETE CASCADE
    TABLE "synapscale_db.contact_list_memberships" CONSTRAINT "contact_list_memberships_contact_id_fkey" FOREIGN KEY (contact_id) REFERENCES synapscale_db.contacts(id) ON DELETE CASCADE
    TABLE "synapscale_db.contact_notes" CONSTRAINT "contact_notes_contact_id_fkey" FOREIGN KEY (contact_id) REFERENCES synapscale_db.contacts(id) ON DELETE CASCADE
    TABLE "synapscale_db.conversion_journeys" CONSTRAINT "conversion_journeys_contact_id_fkey" FOREIGN KEY (contact_id) REFERENCES synapscale_db.contacts(id) ON DELETE CASCADE
Policies:
    POLICY "tenant_isolation_contacts_delete" FOR DELETE
      USING (is_authorized_tenant(tenant_id))
    POLICY "tenant_isolation_contacts_insert" FOR INSERT
      WITH CHECK (is_authorized_tenant(tenant_id))
    POLICY "tenant_isolation_contacts_select" FOR SELECT
      USING (is_authorized_tenant(tenant_id))
    POLICY "tenant_isolation_contacts_update" FOR UPDATE
      USING (is_authorized_tenant(tenant_id))
      WITH CHECK (is_authorized_tenant(tenant_id))
Access method: heap

            Index "synapscale_db.contacts_pkey"
 Column | Type | Key? | Definition | Storage | Stats target 
--------+------+------+------------+---------+--------------
 id     | uuid | yes  | id         | plain   | 
primary key, btree, for table "synapscale_db.contacts"

                Index "synapscale_db.contacts_tenant_id_email_key"
  Column   |          Type          | Key? | Definition | Storage  | Stats target 
-----------+------------------------+------+------------+----------+--------------
 tenant_id | uuid                   | yes  | tenant_id  | plain    | 
 email     | character varying(255) | yes  | email      | extended | 
unique, btree, for table "synapscale_db.contacts"

        Index "synapscale_db.conversation_llms_pkey"
 Column | Type | Key? | Definition | Storage | Stats target 
--------+------+------+------------+---------+--------------
 id     | uuid | yes  | id         | plain   | 
primary key, btree, for table "synapscale_db.llms_conversations_turns"

          Index "synapscale_db.conversations_pkey"
 Column | Type | Key? | Definition | Storage | Stats target 
--------+------+------+------------+---------+--------------
 id     | uuid | yes  | id         | plain   | 
primary key, btree, for table "synapscale_db.llms_conversations"

                                                     Table "synapscale_db.conversion_journeys"
         Column         |           Type           | Collation | Nullable |      Default      | Storage  | Compression | Stats target | Description 
------------------------+--------------------------+-----------+----------+-------------------+----------+-------------+--------------+-------------
 id                     | uuid                     |           | not null | gen_random_uuid() | plain    |             |              | 
 contact_id             | uuid                     |           | not null |                   | plain    |             |              | 
 tenant_id              | uuid                     |           | not null |                   | plain    |             |              | 
 journey_name           | character varying(255)   |           |          |                   | extended |             |              | 
 current_stage          | character varying(100)   |           |          |                   | extended |             |              | 
 stages_completed       | jsonb                    |           |          | '[]'::jsonb       | extended |             |              | 
 conversion_probability | numeric(5,2)             |           |          |                   | main     |             |              | 
 last_interaction_at    | timestamp with time zone |           |          |                   | plain    |             |              | 
 converted_at           | timestamp with time zone |           |          |                   | plain    |             |              | 
 conversion_value       | numeric(12,2)            |           |          |                   | main     |             |              | 
 metadata               | jsonb                    |           |          | '{}'::jsonb       | extended |             |              | 
 created_at             | timestamp with time zone |           |          | CURRENT_TIMESTAMP | plain    |             |              | 
 updated_at             | timestamp with time zone |           |          | CURRENT_TIMESTAMP | plain    |             |              | 
Indexes:
    "conversion_journeys_pkey" PRIMARY KEY, btree (id)
    "idx_conversion_journeys_tenant_id" btree (tenant_id)
Foreign-key constraints:
    "conversion_journeys_contact_id_fkey" FOREIGN KEY (contact_id) REFERENCES synapscale_db.contacts(id) ON DELETE CASCADE
    "conversion_journeys_tenant_id_fkey" FOREIGN KEY (tenant_id) REFERENCES synapscale_db.tenants(id) ON DELETE CASCADE
Access method: heap

       Index "synapscale_db.conversion_journeys_pkey"
 Column | Type | Key? | Definition | Storage | Stats target 
--------+------+------+------------+---------+--------------
 id     | uuid | yes  | id         | plain   | 
primary key, btree, for table "synapscale_db.conversion_journeys"

                                                               Table "synapscale_db.coupons"
      Column      |           Type           | Collation | Nullable |             Default             | Storage  | Compression | Stats target | Description 
------------------+--------------------------+-----------+----------+---------------------------------+----------+-------------+--------------+-------------
 id               | uuid                     |           | not null | gen_random_uuid()               | plain    |             |              | 
 code             | character varying(100)   |           | not null |                                 | extended |             |              | 
 name             | character varying(255)   |           |          |                                 | extended |             |              | 
 description      | text                     |           |          |                                 | extended |             |              | 
 type             | character varying(50)    |           | not null | 'percentage'::character varying | extended |             |              | 
 value            | numeric(10,2)            |           | not null |                                 | main     |             |              | 
 currency         | character varying(3)     |           |          | 'USD'::character varying        | extended |             |              | 
 max_uses         | integer                  |           |          |                                 | plain    |             |              | 
 used_count       | integer                  |           |          | 0                               | plain    |             |              | 
 min_amount       | numeric(10,2)            |           |          |                                 | main     |             |              | 
 max_discount     | numeric(10,2)            |           |          |                                 | main     |             |              | 
 valid_from       | timestamp with time zone |           |          | CURRENT_TIMESTAMP               | plain    |             |              | 
 valid_until      | timestamp with time zone |           |          |                                 | plain    |             |              | 
 is_active        | boolean                  |           |          | true                            | plain    |             |              | 
 is_stackable     | boolean                  |           |          | false                           | plain    |             |              | 
 applicable_plans | jsonb                    |           |          | '[]'::jsonb                     | extended |             |              | 
 restrictions     | jsonb                    |           |          | '{}'::jsonb                     | extended |             |              | 
 metadata         | jsonb                    |           |          | '{}'::jsonb                     | extended |             |              | 
 created_by       | uuid                     |           |          |                                 | plain    |             |              | 
 created_at       | timestamp with time zone |           |          | CURRENT_TIMESTAMP               | plain    |             |              | 
 updated_at       | timestamp with time zone |           |          | CURRENT_TIMESTAMP               | plain    |             |              | 
 tenant_id        | uuid                     |           |          |                                 | plain    |             |              | 
Indexes:
    "coupons_pkey" PRIMARY KEY, btree (id)
    "coupons_code_key" UNIQUE CONSTRAINT, btree (code)
    "idx_coupons_tenant_id" btree (tenant_id)
Foreign-key constraints:
    "coupons_created_by_fkey" FOREIGN KEY (created_by) REFERENCES synapscale_db.users(id) ON DELETE SET NULL
    "coupons_tenant_id_fkey" FOREIGN KEY (tenant_id) REFERENCES synapscale_db.tenants(id) ON UPDATE CASCADE ON DELETE CASCADE
Referenced by:
    TABLE "synapscale_db.subscriptions" CONSTRAINT "subscriptions_coupon_id_fkey" FOREIGN KEY (coupon_id) REFERENCES synapscale_db.coupons(id)
Access method: heap

                    Index "synapscale_db.coupons_code_key"
 Column |          Type          | Key? | Definition | Storage  | Stats target 
--------+------------------------+------+------------+----------+--------------
 code   | character varying(100) | yes  | code       | extended | 
unique, btree, for table "synapscale_db.coupons"

             Index "synapscale_db.coupons_pkey"
 Column | Type | Key? | Definition | Storage | Stats target 
--------+------+------+------------+---------+--------------
 id     | uuid | yes  | id         | plain   | 
primary key, btree, for table "synapscale_db.coupons"

                                                  Table "synapscale_db.custom_reports"
        Column        |           Type           | Collation | Nullable | Default | Storage  | Compression | Stats target | Description 
----------------------+--------------------------+-----------+----------+---------+----------+-------------+--------------+-------------
 id                   | uuid                     |           | not null |         | plain    |             |              | 
 user_id              | uuid                     |           | not null |         | plain    |             |              | 
 workspace_id         | uuid                     |           |          |         | plain    |             |              | 
 name                 | character varying(200)   |           | not null |         | extended |             |              | 
 description          | text                     |           |          |         | extended |             |              | 
 category             | character varying(50)    |           |          |         | extended |             |              | 
 query_config         | jsonb                    |           | not null |         | extended |             |              | 
 visualization_config | jsonb                    |           |          |         | extended |             |              | 
 filters              | jsonb                    |           |          |         | extended |             |              | 
 is_scheduled         | boolean                  |           | not null |         | plain    |             |              | 
 schedule_config      | jsonb                    |           |          |         | extended |             |              | 
 last_run_at          | timestamp with time zone |           |          |         | plain    |             |              | 
 next_run_at          | timestamp with time zone |           |          |         | plain    |             |              | 
 is_public            | boolean                  |           | not null |         | plain    |             |              | 
 shared_with          | jsonb                    |           |          |         | extended |             |              | 
 cached_data          | jsonb                    |           |          |         | extended |             |              | 
 cache_expires_at     | timestamp with time zone |           |          |         | plain    |             |              | 
 status               | character varying(20)    |           | not null |         | extended |             |              | 
 created_at           | timestamp with time zone |           | not null |         | plain    |             |              | 
 updated_at           | timestamp with time zone |           | not null |         | plain    |             |              | 
 tenant_id            | uuid                     |           |          |         | plain    |             |              | 
Indexes:
    "custom_reports_pkey" PRIMARY KEY, btree (id)
    "idx_custom_reports_status" btree (status)
    "idx_custom_reports_tenant_id" btree (tenant_id)
    "ix_public_custom_reports_category" btree (category)
    "ix_public_custom_reports_user_id" btree (user_id)
    "ix_public_custom_reports_workspace_id" btree (workspace_id)
Foreign-key constraints:
    "custom_reports_tenant_id_fkey" FOREIGN KEY (tenant_id) REFERENCES synapscale_db.tenants(id) ON UPDATE CASCADE ON DELETE CASCADE
    "custom_reports_user_id_fkey" FOREIGN KEY (user_id) REFERENCES synapscale_db.users(id) ON DELETE CASCADE
    "custom_reports_workspace_id_fkey" FOREIGN KEY (workspace_id) REFERENCES synapscale_db.workspaces(id) ON DELETE SET NULL
Referenced by:
    TABLE "synapscale_db.report_executions" CONSTRAINT "report_executions_report_id_fkey" FOREIGN KEY (report_id) REFERENCES synapscale_db.custom_reports(id) ON DELETE SET NULL
Access method: heap

         Index "synapscale_db.custom_reports_pkey"
 Column | Type | Key? | Definition | Storage | Stats target 
--------+------+------+------------+---------+--------------
 id     | uuid | yes  | id         | plain   | 
primary key, btree, for table "synapscale_db.custom_reports"

                                            Table "synapscale_db.email_verification_tokens"
   Column   |           Type           | Collation | Nullable |      Default      | Storage  | Compression | Stats target | Description 
------------+--------------------------+-----------+----------+-------------------+----------+-------------+--------------+-------------
 id         | uuid                     |           | not null |                   | plain    |             |              | 
 token      | character varying(500)   |           | not null |                   | extended |             |              | 
 user_id    | uuid                     |           | not null |                   | plain    |             |              | 
 expires_at | timestamp with time zone |           | not null |                   | plain    |             |              | 
 is_used    | boolean                  |           |          |                   | plain    |             |              | 
 created_at | timestamp with time zone |           |          | now()             | plain    |             |              | 
 updated_at | timestamp with time zone |           |          | CURRENT_TIMESTAMP | plain    |             |              | 
Indexes:
    "email_verification_tokens_pkey" PRIMARY KEY, btree (id)
    "idx_email_verification_tokens_user_id" btree (user_id)
    "ix_synapscale_db_email_verification_tokens_token" UNIQUE, btree (token)
    "ix_synapscale_db_email_verification_tokens_user_id" btree (user_id)
Foreign-key constraints:
    "email_verification_tokens_user_id_fkey" FOREIGN KEY (user_id) REFERENCES synapscale_db.users(id) ON DELETE CASCADE
Access method: heap

    Index "synapscale_db.email_verification_tokens_pkey"
 Column | Type | Key? | Definition | Storage | Stats target 
--------+------+------+------------+---------+--------------
 id     | uuid | yes  | id         | plain   | 
primary key, btree, for table "synapscale_db.email_verification_tokens"

          Sequence "synapscale_db.execution_metrics_id_seq"
  Type   | Start | Minimum |  Maximum   | Increment | Cycles? | Cache 
---------+-------+---------+------------+-----------+---------+-------
 integer |     1 |       1 | 2147483647 |         1 | no      |     1
Owned by: synapscale_db.workflow_execution_metrics.id

         Index "synapscale_db.execution_metrics_pkey"
 Column |  Type   | Key? | Definition | Storage | Stats target 
--------+---------+------+------------+---------+--------------
 id     | integer | yes  | id         | plain   | 
primary key, btree, for table "synapscale_db.workflow_execution_metrics"

           Sequence "synapscale_db.execution_queue_id_seq"
  Type   | Start | Minimum |  Maximum   | Increment | Cycles? | Cache 
---------+-------+---------+------------+-----------+---------+-------
 integer |     1 |       1 | 2147483647 |         1 | no      |     1
Owned by: synapscale_db.workflow_execution_queue.id

          Index "synapscale_db.execution_queue_pkey"
 Column |  Type   | Key? | Definition | Storage | Stats target 
--------+---------+------+------------+---------+--------------
 id     | integer | yes  | id         | plain   | 
primary key, btree, for table "synapscale_db.workflow_execution_queue"

                                                     Table "synapscale_db.features"
   Column    |           Type           | Collation | Nullable |      Default      | Storage  | Compression | Stats target | Description 
-------------+--------------------------+-----------+----------+-------------------+----------+-------------+--------------+-------------
 id          | uuid                     |           | not null | gen_random_uuid() | plain    |             |              | 
 key         | character varying(100)   |           | not null |                   | extended |             |              | 
 name        | character varying(255)   |           | not null |                   | extended |             |              | 
 description | text                     |           |          |                   | extended |             |              | 
 category    | character varying(100)   |           |          |                   | extended |             |              | 
 is_active   | boolean                  |           |          | true              | plain    |             |              | 
 created_at  | timestamp with time zone |           |          | CURRENT_TIMESTAMP | plain    |             |              | 
 updated_at  | timestamp with time zone |           |          | CURRENT_TIMESTAMP | plain    |             |              | 
Indexes:
    "features_pkey" PRIMARY KEY, btree (id)
    "features_key_key" UNIQUE CONSTRAINT, btree (key)
    "idx_features_category" btree (category)
    "idx_features_key" btree (key)
Referenced by:
    TABLE "synapscale_db.plan_entitlements" CONSTRAINT "plan_entitlements_feature_id_fkey" FOREIGN KEY (feature_id) REFERENCES synapscale_db.features(id) ON DELETE CASCADE
    TABLE "synapscale_db.plan_features" CONSTRAINT "plan_features_feature_id_fkey" FOREIGN KEY (feature_id) REFERENCES synapscale_db.features(id) ON DELETE CASCADE
    TABLE "synapscale_db.tenant_features" CONSTRAINT "tenant_features_feature_id_fkey" FOREIGN KEY (feature_id) REFERENCES synapscale_db.features(id) ON DELETE CASCADE
    TABLE "synapscale_db.workspace_features" CONSTRAINT "workspace_features_feature_id_fkey" FOREIGN KEY (feature_id) REFERENCES synapscale_db.features(id) ON DELETE CASCADE
Access method: heap

                    Index "synapscale_db.features_key_key"
 Column |          Type          | Key? | Definition | Storage  | Stats target 
--------+------------------------+------+------------+----------+--------------
 key    | character varying(100) | yes  | key        | extended | 
unique, btree, for table "synapscale_db.features"

            Index "synapscale_db.features_pkey"
 Column | Type | Key? | Definition | Storage | Stats target 
--------+------+------+------------+---------+--------------
 id     | uuid | yes  | id         | plain   | 
primary key, btree, for table "synapscale_db.features"

                                                               Table "synapscale_db.files"
      Column      |           Type           | Collation | Nullable |           Default            | Storage  | Compression | Stats target | Description 
------------------+--------------------------+-----------+----------+------------------------------+----------+-------------+--------------+-------------
 id               | uuid                     |           | not null |                              | plain    |             |              | 
 filename         | character varying(255)   |           | not null |                              | extended |             |              | 
 original_name    | character varying(255)   |           | not null |                              | extended |             |              | 
 file_path        | character varying(500)   |           | not null |                              | extended |             |              | 
 file_size        | integer                  |           | not null |                              | plain    |             |              | 
 mime_type        | character varying(100)   |           | not null |                              | extended |             |              | 
 category         | character varying(50)    |           | not null |                              | extended |             |              | 
 is_public        | boolean                  |           | not null | false                        | plain    |             |              | 
 user_id          | uuid                     |           | not null |                              | plain    |             |              | 
 created_at       | timestamp with time zone |           | not null | now()                        | plain    |             |              | 
 updated_at       | timestamp with time zone |           | not null | now()                        | plain    |             |              | 
 tags             | jsonb                    |           |          |                              | extended |             |              | 
 description      | text                     |           |          |                              | extended |             |              | 
 tenant_id        | uuid                     |           |          |                              | plain    |             |              | 
 status           | character varying(20)    |           |          | 'active'::character varying  | extended |             |              | 
 scan_status      | character varying(20)    |           |          | 'pending'::character varying | extended |             |              | 
 access_count     | integer                  |           |          | 0                            | plain    |             |              | 
 last_accessed_at | timestamp with time zone |           |          |                              | plain    |             |              | 
Indexes:
    "files_pkey" PRIMARY KEY, btree (id)
    "idx_file_created_at" btree (created_at)
    "idx_file_filename" btree (filename)
    "idx_files_scan_status" btree (scan_status) WHERE scan_status::text <> 'clean'::text
    "idx_files_status" btree (status)
    "idx_files_tenant_id" btree (tenant_id)
    "idx_files_tenant_user" btree (tenant_id, user_id)
    "idx_files_user_id" btree (user_id)
Check constraints:
    "files_scan_status_check" CHECK (scan_status::text = ANY (ARRAY['pending'::character varying, 'scanning'::character varying, 'clean'::character varying, 'infected'::character varying, 'quarantined'::character varying]::text[]))
    "files_status_check" CHECK (status::text = ANY (ARRAY['active'::character varying, 'processing'::character varying, 'completed'::character varying, 'failed'::character varying, 'archived'::character varying, 'deleted'::character varying]::text[]))
Foreign-key constraints:
    "files_tenant_id_fkey" FOREIGN KEY (tenant_id) REFERENCES synapscale_db.tenants(id) ON DELETE CASCADE
    "files_user_id_fkey" FOREIGN KEY (user_id) REFERENCES synapscale_db.users(id) ON UPDATE CASCADE ON DELETE CASCADE
Policies:
    POLICY "tenant_isolation_files_delete" FOR DELETE
      USING (is_authorized_tenant(tenant_id))
    POLICY "tenant_isolation_files_insert" FOR INSERT
      WITH CHECK (is_authorized_tenant(tenant_id))
    POLICY "tenant_isolation_files_select" FOR SELECT
      USING (is_authorized_tenant(tenant_id))
    POLICY "tenant_isolation_files_update" FOR UPDATE
      USING (is_authorized_tenant(tenant_id))
      WITH CHECK (is_authorized_tenant(tenant_id))
Triggers:
    trigger_sync_storage_usage AFTER INSERT OR DELETE OR UPDATE ON synapscale_db.files FOR EACH ROW EXECUTE FUNCTION synapscale_db.sync_storage_usage()
Access method: heap

              Index "synapscale_db.files_pkey"
 Column | Type | Key? | Definition | Storage | Stats target 
--------+------+------+------------+---------+--------------
 id     | uuid | yes  | id         | plain   | 
primary key, btree, for table "synapscale_db.files"

         Index "synapscale_db.idx_agent_kbs_config"
 Column | Type | Key? | Definition | Storage  | Stats target 
--------+------+------+------------+----------+--------------
 config | text | yes  | config     | extended | 
gin, for table "synapscale_db.agent_kbs"

        Index "synapscale_db.idx_agent_tools_config"
 Column | Type | Key? | Definition | Storage  | Stats target 
--------+------+------+------------+----------+--------------
 config | text | yes  | config     | extended | 
gin, for table "synapscale_db.agent_tools"

                     Index "synapscale_db.idx_agents_name"
 Column |          Type          | Key? | Definition | Storage  | Stats target 
--------+------------------------+------+------------+----------+--------------
 name   | character varying(255) | yes  | name       | extended | 
btree, for table "synapscale_db.agents"

            Index "synapscale_db.idx_agents_priority"
  Column  |  Type   | Key? | Definition | Storage | Stats target 
----------+---------+------+------------+---------+--------------
 priority | integer | yes  | priority   | plain   | 
btree, for table "synapscale_db.agents"

                   Index "synapscale_db.idx_agents_status"
 Column |         Type          | Key? | Definition | Storage  | Stats target 
--------+-----------------------+------+------------+----------+--------------
 status | character varying(20) | yes  | status     | extended | 
btree, for table "synapscale_db.agents", predicate (status::text <> 'archived'::text)

          Index "synapscale_db.idx_agents_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.agents"

         Index "synapscale_db.idx_agents_tenant_user"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
 user_id   | uuid | yes  | user_id    | plain   | 
btree, for table "synapscale_db.agents"

         Index "synapscale_db.idx_agents_tenant_workspace"
    Column    | Type | Key? |  Definition  | Storage | Stats target 
--------------+------+------+--------------+---------+--------------
 tenant_id    | uuid | yes  | tenant_id    | plain   | 
 workspace_id | uuid | yes  | workspace_id | plain   | 
btree, for table "synapscale_db.agents"

          Index "synapscale_db.idx_agents_user_id"
 Column  | Type | Key? | Definition | Storage | Stats target 
---------+------+------+------------+---------+--------------
 user_id | uuid | yes  | user_id    | plain   | 
btree, for table "synapscale_db.agents"

     Index "synapscale_db.idx_analytics_alerts_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.analytics_alerts"

            Index "synapscale_db.idx_analytics_dashboards_status"
 Column |         Type          | Key? | Definition | Storage  | Stats target 
--------+-----------------------+------+------------+----------+--------------
 status | character varying(20) | yes  | status     | extended | 
btree, for table "synapscale_db.analytics_dashboards"

   Index "synapscale_db.idx_analytics_dashboards_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.analytics_dashboards"

     Index "synapscale_db.idx_analytics_events_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.analytics_events"

     Index "synapscale_db.idx_analytics_events_user_id"
 Column  | Type | Key? | Definition | Storage | Stats target 
---------+------+------+------------+---------+--------------
 user_id | uuid | yes  | user_id    | plain   | 
btree, for table "synapscale_db.analytics_events"

              Index "synapscale_db.idx_analytics_exports_status"
 Column |         Type          | Key? | Definition | Storage  | Stats target 
--------+-----------------------+------+------------+----------+--------------
 status | character varying(20) | yes  | status     | extended | 
btree, for table "synapscale_db.analytics_exports"

     Index "synapscale_db.idx_analytics_exports_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.analytics_exports"

     Index "synapscale_db.idx_analytics_metrics_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.analytics_metrics"

     Index "synapscale_db.idx_analytics_reports_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.analytics_reports"

      Index "synapscale_db.idx_billing_events_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.billing_events"

     Index "synapscale_db.idx_business_metrics_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.business_metrics"

              Index "synapscale_db.idx_campaign_contacts_status"
 Column |         Type          | Key? | Definition | Storage  | Stats target 
--------+-----------------------+------+------------+----------+--------------
 status | character varying(50) | yes  | status     | extended | 
btree, for table "synapscale_db.campaign_contacts"

     Index "synapscale_db.idx_campaign_contacts_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.campaign_contacts"

                  Index "synapscale_db.idx_campaigns_status"
 Column |         Type          | Key? | Definition | Storage  | Stats target 
--------+-----------------------+------+------------+----------+--------------
 status | character varying(50) | yes  | status     | extended | 
btree, for table "synapscale_db.campaigns"

         Index "synapscale_db.idx_campaigns_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.campaigns"

             Index "synapscale_db.idx_component_downloads_status"
 Column |         Type          | Key? | Definition | Storage  | Stats target 
--------+-----------------------+------+------------+----------+--------------
 status | character varying(20) | yes  | status     | extended | 
btree, for table "synapscale_db.component_downloads"

    Index "synapscale_db.idx_component_downloads_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.component_downloads"

             Index "synapscale_db.idx_component_purchases_status"
 Column |         Type          | Key? | Definition | Storage  | Stats target 
--------+-----------------------+------+------------+----------+--------------
 status | character varying(20) | yes  | status     | extended | 
btree, for table "synapscale_db.component_purchases"

    Index "synapscale_db.idx_component_purchases_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.component_purchases"

              Index "synapscale_db.idx_component_ratings_status"
 Column |         Type          | Key? | Definition | Storage  | Stats target 
--------+-----------------------+------+------------+----------+--------------
 status | character varying(20) | yes  | status     | extended | 
btree, for table "synapscale_db.component_ratings"

     Index "synapscale_db.idx_component_ratings_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.component_ratings"

             Index "synapscale_db.idx_component_versions_status"
 Column |         Type          | Key? | Definition | Storage  | Stats target 
--------+-----------------------+------+------------+----------+--------------
 status | character varying(20) | yes  | status     | extended | 
btree, for table "synapscale_db.component_versions"

    Index "synapscale_db.idx_component_versions_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.component_versions"

      Index "synapscale_db.idx_contact_events_contact_id"
   Column   | Type | Key? | Definition | Storage | Stats target 
------------+------+------+------------+---------+--------------
 contact_id | uuid | yes  | contact_id | plain   | 
btree, for table "synapscale_db.contact_events"

      Index "synapscale_db.idx_contact_events_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.contact_events"

   Index "synapscale_db.idx_contact_interactions_contact_id"
   Column   | Type | Key? | Definition | Storage | Stats target 
------------+------+------+------------+---------+--------------
 contact_id | uuid | yes  | contact_id | plain   | 
btree, for table "synapscale_db.contact_interactions"

             Index "synapscale_db.idx_contact_interactions_created_at"
   Column   |           Type           | Key? | Definition | Storage | Stats target 
------------+--------------------------+------+------------+---------+--------------
 created_at | timestamp with time zone | yes  | created_at | plain   | 
btree, for table "synapscale_db.contact_interactions"

            Index "synapscale_db.idx_contact_interactions_status"
 Column |         Type          | Key? | Definition | Storage  | Stats target 
--------+-----------------------+------+------------+----------+--------------
 status | character varying(50) | yes  | status     | extended | 
btree, for table "synapscale_db.contact_interactions"

   Index "synapscale_db.idx_contact_interactions_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.contact_interactions"

   Index "synapscale_db.idx_contact_interactions_user_id"
 Column  | Type | Key? | Definition | Storage | Stats target 
---------+------+------+------------+---------+--------------
 user_id | uuid | yes  | user_id    | plain   | 
btree, for table "synapscale_db.contact_interactions"

          Index "synapscale_db.idx_contact_list_memberships_status"
 Column |         Type          | Key? | Definition | Storage  | Stats target 
--------+-----------------------+------+------------+----------+--------------
 status | character varying(50) | yes  | status     | extended | 
btree, for table "synapscale_db.contact_list_memberships"

 Index "synapscale_db.idx_contact_list_memberships_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.contact_list_memberships"

       Index "synapscale_db.idx_contact_lists_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.contact_lists"

       Index "synapscale_db.idx_contact_notes_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.contact_notes"

       Index "synapscale_db.idx_contact_notes_user_id"
 Column  | Type | Key? | Definition | Storage | Stats target 
---------+------+------+------------+---------+--------------
 user_id | uuid | yes  | user_id    | plain   | 
btree, for table "synapscale_db.contact_notes"

                   Index "synapscale_db.idx_contacts_email"
 Column |          Type          | Key? | Definition | Storage  | Stats target 
--------+------------------------+------+------------+----------+--------------
 email  | character varying(255) | yes  | email      | extended | 
btree, for table "synapscale_db.contacts"

                  Index "synapscale_db.idx_contacts_status"
 Column |         Type          | Key? | Definition | Storage  | Stats target 
--------+-----------------------+------+------------+----------+--------------
 status | character varying(50) | yes  | status     | extended | 
btree, for table "synapscale_db.contacts"

         Index "synapscale_db.idx_contacts_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.contacts"

           Index "synapscale_db.idx_conv_turns_conversation_id"
     Column      | Type | Key? |   Definition    | Storage | Stats target 
-----------------+------+------+-----------------+---------+--------------
 conversation_id | uuid | yes  | conversation_id | plain   | 
btree, for table "synapscale_db.llms_conversations_turns"

      Index "synapscale_db.idx_conversations_tenant_user"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
 user_id   | uuid | yes  | user_id    | plain   | 
btree, for table "synapscale_db.llms_conversations"

    Index "synapscale_db.idx_conversion_journeys_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.conversion_journeys"

          Index "synapscale_db.idx_coupons_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.coupons"

               Index "synapscale_db.idx_custom_reports_status"
 Column |         Type          | Key? | Definition | Storage  | Stats target 
--------+-----------------------+------+------------+----------+--------------
 status | character varying(20) | yes  | status     | extended | 
btree, for table "synapscale_db.custom_reports"

      Index "synapscale_db.idx_custom_reports_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.custom_reports"

 Index "synapscale_db.idx_email_verification_tokens_user_id"
 Column  | Type | Key? | Definition | Storage | Stats target 
---------+------+------+------------+---------+--------------
 user_id | uuid | yes  | user_id    | plain   | 
btree, for table "synapscale_db.email_verification_tokens"

                   Index "synapscale_db.idx_features_category"
  Column  |          Type          | Key? | Definition | Storage  | Stats target 
----------+------------------------+------+------------+----------+--------------
 category | character varying(100) | yes  | category   | extended | 
btree, for table "synapscale_db.features"

                    Index "synapscale_db.idx_features_key"
 Column |          Type          | Key? | Definition | Storage  | Stats target 
--------+------------------------+------+------------+----------+--------------
 key    | character varying(100) | yes  | key        | extended | 
btree, for table "synapscale_db.features"

         Index "synapscale_db.idx_feedback_message_id"
   Column   | Type | Key? | Definition | Storage | Stats target 
------------+------+------+------------+---------+--------------
 message_id | uuid | yes  | message_id | plain   | 
btree, for table "synapscale_db.message_feedbacks"

                     Index "synapscale_db.idx_file_created_at"
   Column   |           Type           | Key? | Definition | Storage | Stats target 
------------+--------------------------+------+------------+---------+--------------
 created_at | timestamp with time zone | yes  | created_at | plain   | 
btree, for table "synapscale_db.files"

                     Index "synapscale_db.idx_file_filename"
  Column  |          Type          | Key? | Definition | Storage  | Stats target 
----------+------------------------+------+------------+----------+--------------
 filename | character varying(255) | yes  | filename   | extended | 
btree, for table "synapscale_db.files"

                    Index "synapscale_db.idx_files_scan_status"
   Column    |         Type          | Key? | Definition  | Storage  | Stats target 
-------------+-----------------------+------+-------------+----------+--------------
 scan_status | character varying(20) | yes  | scan_status | extended | 
btree, for table "synapscale_db.files", predicate (scan_status::text <> 'clean'::text)

                    Index "synapscale_db.idx_files_status"
 Column |         Type          | Key? | Definition | Storage  | Stats target 
--------+-----------------------+------+------------+----------+--------------
 status | character varying(20) | yes  | status     | extended | 
btree, for table "synapscale_db.files"

           Index "synapscale_db.idx_files_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.files"

          Index "synapscale_db.idx_files_tenant_user"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
 user_id   | uuid | yes  | user_id    | plain   | 
btree, for table "synapscale_db.files"

           Index "synapscale_db.idx_files_user_id"
 Column  | Type | Key? | Definition | Storage | Stats target 
---------+------+------+------------+---------+--------------
 user_id | uuid | yes  | user_id    | plain   | 
btree, for table "synapscale_db.files"

         Index "synapscale_db.idx_invoices_due_date"
  Column  | Type | Key? | Definition | Storage | Stats target 
----------+------+------+------------+---------+--------------
 due_date | date | yes  | due_date   | plain   | 
btree, for table "synapscale_db.invoices"

                  Index "synapscale_db.idx_invoices_status"
 Column |         Type          | Key? | Definition | Storage  | Stats target 
--------+-----------------------+------+------------+----------+--------------
 status | character varying(50) | yes  | status     | extended | 
btree, for table "synapscale_db.invoices"

         Index "synapscale_db.idx_invoices_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.invoices"

            Index "synapscale_db.idx_kbs_content"
 Column  | Type | Key? | Definition | Storage  | Stats target 
---------+------+------+------------+----------+--------------
 content | text | yes  | content    | extended | 
gin, for table "synapscale_db.knowledge_bases"

    Index "synapscale_db.idx_llms_conversations_agent_id"
  Column  | Type | Key? | Definition | Storage | Stats target 
----------+------+------+------------+---------+--------------
 agent_id | uuid | yes  | agent_id   | plain   | 
btree, for table "synapscale_db.llms_conversations"

             Index "synapscale_db.idx_llms_conversations_status"
 Column |         Type          | Key? | Definition | Storage  | Stats target 
--------+-----------------------+------+------------+----------+--------------
 status | character varying(50) | yes  | status     | extended | 
btree, for table "synapscale_db.llms_conversations"

    Index "synapscale_db.idx_llms_conversations_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.llms_conversations"

 Index "synapscale_db.idx_llms_conversations_turns_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.llms_conversations_turns"

    Index "synapscale_db.idx_llms_conversations_user_id"
 Column  | Type | Key? | Definition | Storage | Stats target 
---------+------+------+------------+---------+--------------
 user_id | uuid | yes  | user_id    | plain   | 
btree, for table "synapscale_db.llms_conversations"

           Index "synapscale_db.idx_llms_conversations_user_status"
 Column  |         Type          | Key? | Definition | Storage  | Stats target 
---------+-----------------------+------+------------+----------+--------------
 user_id | uuid                  | yes  | user_id    | plain    | 
 status  | character varying(50) | yes  | status     | extended | 
btree, for table "synapscale_db.llms_conversations"

     Index "synapscale_db.idx_llms_conversations_workspace_id"
    Column    | Type | Key? |  Definition  | Storage | Stats target 
--------------+------+------+--------------+---------+--------------
 workspace_id | uuid | yes  | workspace_id | plain   | 
btree, for table "synapscale_db.llms_conversations"

  Index "synapscale_db.idx_llms_message_feedbacks_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.message_feedbacks"

             Index "synapscale_db.idx_llms_messages_conv_id"
     Column      | Type | Key? |   Definition    | Storage | Stats target 
-----------------+------+------+-----------------+---------+--------------
 conversation_id | uuid | yes  | conversation_id | plain   | 
btree, for table "synapscale_db.llms_messages"

                 Index "synapscale_db.idx_llms_messages_created_at"
   Column   |           Type           | Key? | Definition | Storage | Stats target 
------------+--------------------------+------+------------+---------+--------------
 created_at | timestamp with time zone | yes  | created_at | plain   | 
btree, for table "synapscale_db.llms_messages"

                Index "synapscale_db.idx_llms_messages_status"
 Column |         Type          | Key? | Definition | Storage  | Stats target 
--------+-----------------------+------+------------+----------+--------------
 status | character varying(50) | yes  | status     | extended | 
btree, for table "synapscale_db.llms_messages"

       Index "synapscale_db.idx_llms_messages_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.llms_messages"

                    Index "synapscale_db.idx_llms_status"
 Column |         Type          | Key? | Definition | Storage  | Stats target 
--------+-----------------------+------+------------+----------+--------------
 status | character varying(20) | yes  | status     | extended | 
btree, for table "synapscale_db.llms"

           Index "synapscale_db.idx_llms_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.llms"

               Index "synapscale_db.idx_llms_usage_conv_id"
     Column      | Type | Key? |   Definition    | Storage | Stats target 
-----------------+------+------+-----------------+---------+--------------
 conversation_id | uuid | yes  | conversation_id | plain   | 
btree, for table "synapscale_db.llms_usage_logs"

               Index "synapscale_db.idx_llms_usage_logs_status"
 Column |         Type          | Key? | Definition | Storage  | Stats target 
--------+-----------------------+------+------------+----------+--------------
 status | character varying(20) | yes  | status     | extended | 
btree, for table "synapscale_db.llms_usage_logs"

      Index "synapscale_db.idx_llms_usage_logs_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.llms_usage_logs"

             Index "synapscale_db.idx_marketplace_components_name"
 Column |          Type          | Key? | Definition | Storage  | Stats target 
--------+------------------------+------+------------+----------+--------------
 name   | character varying(255) | yes  | name       | extended | 
btree, for table "synapscale_db.marketplace_components"

           Index "synapscale_db.idx_marketplace_components_status"
 Column |         Type          | Key? | Definition | Storage  | Stats target 
--------+-----------------------+------+------------+----------+--------------
 status | character varying(20) | yes  | status     | extended | 
btree, for table "synapscale_db.marketplace_components"

  Index "synapscale_db.idx_marketplace_components_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.marketplace_components"

                   Index "synapscale_db.idx_messages_conversation_created"
     Column      |           Type           | Key? |   Definition    | Storage | Stats target 
-----------------+--------------------------+------+-----------------+---------+--------------
 conversation_id | uuid                     | yes  | conversation_id | plain   | 
 created_at      | timestamp with time zone | yes  | created_at      | plain   | 
btree, for table "synapscale_db.llms_messages"

      Index "synapscale_db.idx_node_categories_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.node_categories"

      Index "synapscale_db.idx_node_executions_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.node_executions"

       Index "synapscale_db.idx_node_ratings_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.node_ratings"

      Index "synapscale_db.idx_node_templates_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.node_templates"

                    Index "synapscale_db.idx_nodes_status"
 Column |         Type          | Key? | Definition | Storage  | Stats target 
--------+-----------------------+------+------------+----------+--------------
 status | character varying(20) | yes  | status     | extended | 
btree, for table "synapscale_db.nodes"

           Index "synapscale_db.idx_nodes_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.nodes"

   Index "synapscale_db.idx_password_reset_tokens_user_id"
 Column  | Type | Key? | Definition | Storage | Stats target 
---------+------+------+------------+---------+--------------
 user_id | uuid | yes  | user_id    | plain   | 
btree, for table "synapscale_db.password_reset_tokens"

     Index "synapscale_db.idx_payment_customers_provider_id"
   Column    | Type | Key? | Definition  | Storage | Stats target 
-------------+------+------+-------------+---------+--------------
 provider_id | uuid | yes  | provider_id | plain   | 
btree, for table "synapscale_db.payment_customers"

     Index "synapscale_db.idx_payment_customers_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.payment_customers"

      Index "synapscale_db.idx_payment_methods_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.payment_methods"

     Index "synapscale_db.idx_plan_entitlements_feature_id"
   Column   | Type | Key? | Definition | Storage | Stats target 
------------+------+------+------------+---------+--------------
 feature_id | uuid | yes  | feature_id | plain   | 
btree, for table "synapscale_db.plan_entitlements"

     Index "synapscale_db.idx_plan_entitlements_plan_id"
 Column  | Type | Key? | Definition | Storage | Stats target 
---------+------+------+------------+---------+--------------
 plan_id | uuid | yes  | plan_id    | plain   | 
btree, for table "synapscale_db.plan_entitlements"

     Index "synapscale_db.idx_plan_entitlements_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.plan_entitlements"

  Index "synapscale_db.idx_plan_provider_mappings_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.plan_provider_mappings"

            Index "synapscale_db.idx_plans_is_active"
  Column   |  Type   | Key? | Definition | Storage | Stats target 
-----------+---------+------+------------+---------+--------------
 is_active | boolean | yes  | is_active  | plain   | 
btree, for table "synapscale_db.plans"

   Index "synapscale_db.idx_project_collaborators_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.project_collaborators"

              Index "synapscale_db.idx_project_comments_node_id"
 Column  |         Type          | Key? | Definition | Storage  | Stats target 
---------+-----------------------+------+------------+----------+--------------
 node_id | character varying(36) | yes  | node_id    | extended | 
btree, for table "synapscale_db.project_comments"

     Index "synapscale_db.idx_project_comments_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.project_comments"

     Index "synapscale_db.idx_project_versions_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.project_versions"

               Index "synapscale_db.idx_rbac_permissions_category"
  Column  |          Type          | Key? | Definition | Storage  | Stats target 
----------+------------------------+------+------------+----------+--------------
 category | character varying(100) | yes  | category   | extended | 
btree, for table "synapscale_db.rbac_permissions"

                Index "synapscale_db.idx_rbac_permissions_key"
 Column |          Type          | Key? | Definition | Storage  | Stats target 
--------+------------------------+------+------------+----------+--------------
 key    | character varying(100) | yes  | key        | extended | 
btree, for table "synapscale_db.rbac_permissions"

   Index "synapscale_db.idx_rbac_role_permissions_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.rbac_role_permissions"

              Index "synapscale_db.idx_report_executions_status"
 Column |         Type          | Key? | Definition | Storage  | Stats target 
--------+-----------------------+------+------------+----------+--------------
 status | character varying(20) | yes  | status     | extended | 
btree, for table "synapscale_db.report_executions"

     Index "synapscale_db.idx_report_executions_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.report_executions"

                     Index "synapscale_db.idx_subscriptions_current_period_end"
       Column       |           Type           | Key? |     Definition     | Storage | Stats target 
--------------------+--------------------------+------+--------------------+---------+--------------
 current_period_end | timestamp with time zone | yes  | current_period_end | plain   | 
btree, for table "synapscale_db.subscriptions"

       Index "synapscale_db.idx_subscriptions_plan_id"
 Column  | Type | Key? | Definition | Storage | Stats target 
---------+------+------+------------+---------+--------------
 plan_id | uuid | yes  | plan_id    | plain   | 
btree, for table "synapscale_db.subscriptions"

                Index "synapscale_db.idx_subscriptions_status"
 Column |         Type          | Key? | Definition | Storage  | Stats target 
--------+-----------------------+------+------------+----------+--------------
 status | character varying(50) | yes  | status     | extended | 
btree, for table "synapscale_db.subscriptions"

       Index "synapscale_db.idx_subscriptions_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.subscriptions"

Index "synapscale_db.idx_system_performance_metrics_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.system_performance_metrics"

           Index "synapscale_db.idx_tags_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.tags"

   Index "synapscale_db.idx_template_collections_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.template_collections"

    Index "synapscale_db.idx_template_downloads_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.template_downloads"

    Index "synapscale_db.idx_template_favorites_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.template_favorites"

     Index "synapscale_db.idx_template_reviews_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.template_reviews"

      Index "synapscale_db.idx_template_usage_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.template_usage"

      Index "synapscale_db.idx_tenant_features_feature_id"
   Column   | Type | Key? | Definition | Storage | Stats target 
------------+------+------+------------+---------+--------------
 feature_id | uuid | yes  | feature_id | plain   | 
btree, for table "synapscale_db.tenant_features"

      Index "synapscale_db.idx_tenant_features_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.tenant_features"

             Index "synapscale_db.idx_tenants_enabled_features"
      Column      | Type | Key? |    Definition    | Storage  | Stats target 
------------------+------+------+------------------+----------+--------------
 enabled_features | text | yes  | enabled_features | extended | 
gin, for table "synapscale_db.tenants"

                          Index "synapscale_db.idx_tenants_language"
      Column      |         Type          | Key? |    Definition    | Storage  | Stats target 
------------------+-----------------------+------+------------------+----------+--------------
 default_language | character varying(10) | yes  | default_language | extended | 
btree, for table "synapscale_db.tenants"

                 Index "synapscale_db.idx_tenants_max_api_calls_per_day"
        Column         |  Type   | Key? |      Definition       | Storage | Stats target 
-----------------------+---------+------+-----------------------+---------+--------------
 max_api_calls_per_day | integer | yes  | max_api_calls_per_day | plain   | 
btree, for table "synapscale_db.tenants"

             Index "synapscale_db.idx_tenants_max_storage_mb"
     Column     |  Type   | Key? |   Definition   | Storage | Stats target 
----------------+---------+------+----------------+---------+--------------
 max_storage_mb | integer | yes  | max_storage_mb | plain   | 
btree, for table "synapscale_db.tenants"

             Index "synapscale_db.idx_tenants_max_workspaces"
     Column     |  Type   | Key? |   Definition   | Storage | Stats target 
----------------+---------+------+----------------+---------+--------------
 max_workspaces | integer | yes  | max_workspaces | plain   | 
btree, for table "synapscale_db.tenants"

            Index "synapscale_db.idx_tenants_mfa_required"
    Column    |  Type   | Key? |  Definition  | Storage | Stats target 
--------------+---------+------+--------------+---------+--------------
 mfa_required | boolean | yes  | mfa_required | plain   | 
btree, for table "synapscale_db.tenants"

          Index "synapscale_db.idx_tenants_plan_id"
 Column  | Type | Key? | Definition | Storage | Stats target 
---------+------+------+------------+---------+--------------
 plan_id | uuid | yes  | plan_id    | plain   | 
btree, for table "synapscale_db.tenants"

                    Index "synapscale_db.idx_tenants_slug"
 Column |          Type          | Key? | Definition | Storage  | Stats target 
--------+------------------------+------+------------+----------+--------------
 slug   | character varying(100) | yes  | slug       | extended | 
btree, for table "synapscale_db.tenants"

                   Index "synapscale_db.idx_tenants_status"
 Column |         Type          | Key? | Definition | Storage  | Stats target 
--------+-----------------------+------+------------+----------+--------------
 status | character varying(50) | yes  | status     | extended | 
btree, for table "synapscale_db.tenants"

                   Index "synapscale_db.idx_tenants_theme"
 Column |         Type          | Key? | Definition | Storage  | Stats target 
--------+-----------------------+------+------------+----------+--------------
 theme  | character varying(20) | yes  | theme      | extended | 
btree, for table "synapscale_db.tenants"

            Index "synapscale_db.idx_tools_base_config"
   Column    | Type | Key? | Definition  | Storage  | Stats target 
-------------+------+------+-------------+----------+--------------
 base_config | text | yes  | base_config | extended | 
gin, for table "synapscale_db.tools"

   Index "synapscale_db.idx_user_behavior_metrics_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.user_behavior_metrics"

       Index "synapscale_db.idx_user_insights_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.user_insights"

    Index "synapscale_db.idx_user_subscriptions_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.user_subscriptions"

    Index "synapscale_db.idx_user_subscriptions_user_id"
 Column  | Type | Key? | Definition | Storage | Stats target 
---------+------+------+------------+---------+--------------
 user_id | uuid | yes  | user_id    | plain   | 
btree, for table "synapscale_db.user_subscriptions"

     Index "synapscale_db.idx_user_tenant_roles_role_id"
 Column  | Type | Key? | Definition | Storage | Stats target 
---------+------+------+------------+---------+--------------
 role_id | uuid | yes  | role_id    | plain   | 
btree, for table "synapscale_db.user_tenant_roles"

     Index "synapscale_db.idx_user_tenant_roles_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.user_tenant_roles"

     Index "synapscale_db.idx_user_tenant_roles_user_id"
 Column  | Type | Key? | Definition | Storage | Stats target 
---------+------+------+------------+---------+--------------
 user_id | uuid | yes  | user_id    | plain   | 
btree, for table "synapscale_db.user_tenant_roles"

      Index "synapscale_db.idx_user_variables_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.user_variables"

      Index "synapscale_db.idx_user_variables_user_id"
 Column  | Type | Key? | Definition | Storage | Stats target 
---------+------+------+------------+---------+--------------
 user_id | uuid | yes  | user_id    | plain   | 
btree, for table "synapscale_db.user_variables"

                     Index "synapscale_db.idx_users_failed_attempts"
        Column         |  Type   | Key? |      Definition       | Storage | Stats target 
-----------------------+---------+------+-----------------------+---------+--------------
 failed_login_attempts | integer | yes  | failed_login_attempts | plain   | 
btree, for table "synapscale_db.users", predicate (failed_login_attempts > 0)

                        Index "synapscale_db.idx_users_last_login"
    Column     |           Type           | Key? |  Definition   | Storage | Stats target 
---------------+--------------------------+------+---------------+---------+--------------
 last_login_at | timestamp with time zone | yes  | last_login_at | plain   | 
btree, for table "synapscale_db.users"

                    Index "synapscale_db.idx_users_status"
 Column |         Type          | Key? | Definition | Storage  | Stats target 
--------+-----------------------+------+------------+----------+--------------
 status | character varying(20) | yes  | status     | extended | 
btree, for table "synapscale_db.users", predicate (status::text <> 'deleted'::text)

                 Index "synapscale_db.idx_webhook_logs_event_type"
   Column   |          Type          | Key? | Definition | Storage  | Stats target 
------------+------------------------+------+------------+----------+--------------
 event_type | character varying(100) | yes  | event_type | extended | 
btree, for table "synapscale_db.webhook_logs"

        Index "synapscale_db.idx_webhook_logs_provider_id"
   Column    | Type | Key? | Definition  | Storage | Stats target 
-------------+------+------+-------------+---------+--------------
 provider_id | uuid | yes  | provider_id | plain   | 
btree, for table "synapscale_db.webhook_logs"

                Index "synapscale_db.idx_webhook_logs_status"
 Column |         Type          | Key? | Definition | Storage  | Stats target 
--------+-----------------------+------+------------+----------+--------------
 status | character varying(50) | yes  | status     | extended | 
btree, for table "synapscale_db.webhook_logs"

       Index "synapscale_db.idx_webhook_logs_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.webhook_logs"

   Index "synapscale_db.idx_workflow_connections_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.workflow_connections"

Index "synapscale_db.idx_workflow_execution_metrics_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.workflow_execution_metrics"

 Index "synapscale_db.idx_workflow_execution_queue_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.workflow_execution_queue"

              Index "synapscale_db.idx_workflow_executions_created_at"
   Column   |           Type           | Key? | Definition | Storage | Stats target 
------------+--------------------------+------+------------+---------+--------------
 created_at | timestamp with time zone | yes  | created_at | plain   | 
btree, for table "synapscale_db.workflow_executions"

             Index "synapscale_db.idx_workflow_executions_status"
 Column |         Type          | Key? | Definition | Storage  | Stats target 
--------+-----------------------+------+------------+----------+--------------
 status | character varying(20) | yes  | status     | extended | 
btree, for table "synapscale_db.workflow_executions"

    Index "synapscale_db.idx_workflow_executions_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.workflow_executions"

  Index "synapscale_db.idx_workflow_executions_tenant_workflow"
   Column    | Type | Key? | Definition  | Storage | Stats target 
-------------+------+------+-------------+---------+--------------
 tenant_id   | uuid | yes  | tenant_id   | plain   | 
 workflow_id | uuid | yes  | workflow_id | plain   | 
btree, for table "synapscale_db.workflow_executions"

      Index "synapscale_db.idx_workflow_nodes_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.workflow_nodes"

    Index "synapscale_db.idx_workflow_templates_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.workflow_templates"

              Index "synapscale_db.idx_workflows_definition_connections"
 Column | Type | Key? |             Definition              | Storage  | Stats target 
--------+------+------+-------------------------------------+----------+--------------
 expr   | text | yes  | (definition -> 'connections'::text) | extended | 
gin, for table "synapscale_db.workflows"

              Index "synapscale_db.idx_workflows_definition_nodes"
 Column | Type | Key? |          Definition           | Storage  | Stats target 
--------+------+------+-------------------------------+----------+--------------
 expr   | text | yes  | (definition -> 'nodes'::text) | extended | 
gin, for table "synapscale_db.workflows"

                   Index "synapscale_db.idx_workflows_name"
 Column |          Type          | Key? | Definition | Storage  | Stats target 
--------+------------------------+------+------------+----------+--------------
 name   | character varying(255) | yes  | name       | extended | 
btree, for table "synapscale_db.workflows"

          Index "synapscale_db.idx_workflows_priority"
  Column  |  Type   | Key? | Definition | Storage | Stats target 
----------+---------+------+------------+---------+--------------
 priority | integer | yes  | priority   | plain   | 
btree, for table "synapscale_db.workflows"

                  Index "synapscale_db.idx_workflows_status"
 Column |         Type          | Key? | Definition | Storage  | Stats target 
--------+-----------------------+------+------------+----------+--------------
 status | character varying(20) | yes  | status     | extended | 
btree, for table "synapscale_db.workflows"

         Index "synapscale_db.idx_workflows_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.workflows"

        Index "synapscale_db.idx_workflows_tenant_user"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
 user_id   | uuid | yes  | user_id    | plain   | 
btree, for table "synapscale_db.workflows"

        Index "synapscale_db.idx_workflows_tenant_workspace"
    Column    | Type | Key? |  Definition  | Storage | Stats target 
--------------+------+------+--------------+---------+--------------
 tenant_id    | uuid | yes  | tenant_id    | plain   | 
 workspace_id | uuid | yes  | workspace_id | plain   | 
btree, for table "synapscale_db.workflows"

         Index "synapscale_db.idx_workflows_user_id"
 Column  | Type | Key? | Definition | Storage | Stats target 
---------+------+------+------------+---------+--------------
 user_id | uuid | yes  | user_id    | plain   | 
btree, for table "synapscale_db.workflows"

   Index "synapscale_db.idx_workspace_activities_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.workspace_activities"

    Index "synapscale_db.idx_workspace_features_feature_id"
   Column   | Type | Key? | Definition | Storage | Stats target 
------------+------+------+------------+---------+--------------
 feature_id | uuid | yes  | feature_id | plain   | 
btree, for table "synapscale_db.workspace_features"

      Index "synapscale_db.idx_workspace_features_is_enabled"
   Column   |  Type   | Key? | Definition | Storage | Stats target 
------------+---------+------+------------+---------+--------------
 is_enabled | boolean | yes  | is_enabled | plain   | 
btree, for table "synapscale_db.workspace_features"

    Index "synapscale_db.idx_workspace_features_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.workspace_features"

     Index "synapscale_db.idx_workspace_features_workspace_id"
    Column    | Type | Key? |  Definition  | Storage | Stats target 
--------------+------+------+--------------+---------+--------------
 workspace_id | uuid | yes  | workspace_id | plain   | 
btree, for table "synapscale_db.workspace_features"

            Index "synapscale_db.idx_workspace_invitations_status"
 Column |         Type          | Key? | Definition | Storage  | Stats target 
--------+-----------------------+------+------------+----------+--------------
 status | character varying(20) | yes  | status     | extended | 
btree, for table "synapscale_db.workspace_invitations"

   Index "synapscale_db.idx_workspace_invitations_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.workspace_invitations"

              Index "synapscale_db.idx_workspace_members_status"
 Column |         Type          | Key? | Definition | Storage  | Stats target 
--------+-----------------------+------+------------+----------+--------------
 status | character varying(20) | yes  | status     | extended | 
btree, for table "synapscale_db.workspace_members"

     Index "synapscale_db.idx_workspace_members_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.workspace_members"

             Index "synapscale_db.idx_workspace_members_workspace_status"
    Column    |         Type          | Key? |  Definition  | Storage  | Stats target 
--------------+-----------------------+------+--------------+----------+--------------
 workspace_id | uuid                  | yes  | workspace_id | plain    | 
 status       | character varying(20) | yes  | status       | extended | 
btree, for table "synapscale_db.workspace_members"

             Index "synapscale_db.idx_workspace_projects_status"
 Column |         Type          | Key? | Definition | Storage  | Stats target 
--------+-----------------------+------+------------+----------+--------------
 status | character varying(20) | yes  | status     | extended | 
btree, for table "synapscale_db.workspace_projects"

    Index "synapscale_db.idx_workspace_projects_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.workspace_projects"

            Index "synapscale_db.idx_workspaces_api_calls_today"
     Column      |  Type   | Key? |   Definition    | Storage | Stats target 
-----------------+---------+------+-----------------+---------+--------------
 api_calls_today | integer | yes  | api_calls_today | plain   | 
btree, for table "synapscale_db.workspaces"

              Index "synapscale_db.idx_workspaces_email_notifications"
       Column        |  Type   | Key? |     Definition      | Storage | Stats target 
---------------------+---------+------+---------------------+---------+--------------
 email_notifications | boolean | yes  | email_notifications | plain   | 
btree, for table "synapscale_db.workspaces"

                       Index "synapscale_db.idx_workspaces_last_api_reset_daily"
        Column        |           Type           | Key? |      Definition      | Storage | Stats target 
----------------------+--------------------------+------+----------------------+---------+--------------
 last_api_reset_daily | timestamp with time zone | yes  | last_api_reset_daily | plain   | 
btree, for table "synapscale_db.workspaces"

                 Index "synapscale_db.idx_workspaces_status"
 Column |         Type          | Key? | Definition | Storage  | Stats target 
--------+-----------------------+------+------------+----------+--------------
 status | character varying(20) | yes  | status     | extended | 
btree, for table "synapscale_db.workspaces"

        Index "synapscale_db.idx_workspaces_tenant_id"
  Column   | Type | Key? | Definition | Storage | Stats target 
-----------+------+------+------------+---------+--------------
 tenant_id | uuid | yes  | tenant_id  | plain   | 
btree, for table "synapscale_db.workspaces"

                                                            Table "synapscale_db.invoices"
     Column      |           Type           | Collation | Nullable |          Default           | Storage  | Compression | Stats target | Description 
-----------------+--------------------------+-----------+----------+----------------------------+----------+-------------+--------------+-------------
 id              | uuid                     |           | not null | gen_random_uuid()          | plain    |             |              | 
 tenant_id       | uuid                     |           | not null |                            | plain    |             |              | 
 subscription_id | uuid                     |           |          |                            | plain    |             |              | 
 invoice_number  | character varying(100)   |           | not null |                            | extended |             |              | 
 status          | character varying(50)    |           | not null | 'draft'::character varying | extended |             |              | 
 currency        | character varying(3)     |           | not null | 'USD'::character varying   | extended |             |              | 
 subtotal        | numeric(12,2)            |           | not null | 0                          | main     |             |              | 
 tax_amount      | numeric(12,2)            |           | not null | 0                          | main     |             |              | 
 discount_amount | numeric(12,2)            |           | not null | 0                          | main     |             |              | 
 total_amount    | numeric(12,2)            |           | not null | 0                          | main     |             |              | 
 due_date        | date                     |           |          |                            | plain    |             |              | 
 paid_at         | timestamp with time zone |           |          |                            | plain    |             |              | 
 items           | jsonb                    |           |          | '[]'::jsonb                | extended |             |              | 
 metadata        | jsonb                    |           |          | '{}'::jsonb                | extended |             |              | 
 created_at      | timestamp with time zone |           |          | CURRENT_TIMESTAMP          | plain    |             |              | 
 updated_at      | timestamp with time zone |           |          | CURRENT_TIMESTAMP          | plain    |             |              | 
Indexes:
    "invoices_pkey" PRIMARY KEY, btree (id)
    "idx_invoices_due_date" btree (due_date)
    "idx_invoices_status" btree (status)
    "idx_invoices_tenant_id" btree (tenant_id)
    "invoices_invoice_number_key" UNIQUE CONSTRAINT, btree (invoice_number)
Foreign-key constraints:
    "invoices_subscription_id_fkey" FOREIGN KEY (subscription_id) REFERENCES synapscale_db.subscriptions(id)
    "invoices_tenant_id_fkey" FOREIGN KEY (tenant_id) REFERENCES synapscale_db.tenants(id) ON DELETE CASCADE
Policies:
    POLICY "tenant_isolation_invoices"
      USING ((tenant_id = current_tenant_id()))
    POLICY "tenant_isolation_invoices_insert" FOR INSERT
      WITH CHECK ((tenant_id = current_tenant_id()))
Access method: heap

                     Index "synapscale_db.invoices_invoice_number_key"
     Column     |          Type          | Key? |   Definition   | Storage  | Stats target 
----------------+------------------------+------+----------------+----------+--------------
 invoice_number | character varying(100) | yes  | invoice_number | extended | 
unique, btree, for table "synapscale_db.invoices"

            Index "synapscale_db.invoices_pkey"
 Column | Type | Key? | Definition | Storage | Stats target 
--------+------+------+------------+---------+--------------
 id     | uuid | yes  | id         | plain   | 
primary key, btree, for table "synapscale_db.invoices"

                 Index "synapscale_db.ix_billing_events_created_at"
   Column   |           Type           | Key? | Definition | Storage | Stats target 
------------+--------------------------+------+------------+---------+--------------
 created_at | timestamp with time zone | yes  | created_at | plain   | 
btree, for table "synapscale_db.billing_events"

                Index "synapscale_db.ix_billing_events_event_type"
   Column   |         Type          | Key? | Definition | Storage  | Stats target 
------------+-----------------------+------+------------+----------+--------------
 event_type | character varying(50) | yes  | event_type | extended | 
btree, for table "synapscale_db.billing_events"

                Index "synapscale_db.ix_billing_events_status"
 Column |         Type          | Key? | Definition | Storage  | Stats target 
--------+-----------------------+------+------------+----------+--------------
 status | character varying(20) | yes  | status     | extended | 
btree, for table "synapscale_db.billing_events"

       Index "synapscale_db.ix_billing_events_user_id"
 Column  | Type | Key? | Definition | Storage | Stats target 
---------+------+------+------------+---------+--------------
 user_id | uuid | yes  | user_id    | plain   | 
btree, for table "synapscale_db.billing_events"

        Index "synapscale_db.ix_billing_events_workspace_id"
    Column    | Type | Key? |  Definition  | Storage | Stats target 
--------------+------+------+--------------+---------+--------------
 workspace_id | uuid | yes  | workspace_id | plain   | 
btree, for table "synapscale_db.billing_events"

        Index "synapscale_db.ix_conversation_llms_conversation_id"
     Column      | Type | Key? |   Definition    | Storage | Stats target 
-----------------+------+------+-----------------+---------+--------------
 conversation_id | uuid | yes  | conversation_id | plain   | 
btree, for table "synapscale_db.llms_conversations_turns"

     Index "synapscale_db.ix_conversation_llms_llm_id"
 Column | Type | Key? | Definition | Storage | Stats target 
--------+------+------+------------+---------+--------------
 llm_id | uuid | yes  | llm_id     | plain   | 
btree, for table "synapscale_db.llms_conversations_turns"

             Index "synapscale_db.ix_llms_is_active"
  Column   |  Type   | Key? | Definition | Storage | Stats target 
-----------+---------+------+------------+---------+--------------
 is_active | boolean | yes  | is_active  | plain   | 
btree, for table "synapscale_db.llms"

                      Index "synapscale_db.ix_llms_name"
 Column |          Type          | Key? | Definition | Storage  | Stats target 
--------+------------------------+------+------------+----------+--------------
 name   | character varying(100) | yes  | name       | extended | 
btree, for table "synapscale_db.llms"

                     Index "synapscale_db.ix_llms_provider"
  Column  |         Type          | Key? | Definition | Storage  | Stats target 
----------+-----------------------+------+------------+----------+--------------
 provider | character varying(50) | yes  | provider   | extended | 
btree, for table "synapscale_db.llms"

     Index "synapscale_db.ix_message_feedbacks_message_id"
   Column   | Type | Key? | Definition | Storage | Stats target 
------------+------+------+------------+---------+--------------
 message_id | uuid | yes  | message_id | plain   | 
btree, for table "synapscale_db.message_feedbacks"

               Index "synapscale_db.ix_message_feedbacks_rating_type"
   Column    |         Type          | Key? | Definition  | Storage  | Stats target 
-------------+-----------------------+------+-------------+----------+--------------
 rating_type | character varying(20) | yes  | rating_type | extended | 
btree, for table "synapscale_db.message_feedbacks"

     Index "synapscale_db.ix_message_feedbacks_user_id"
 Column  | Type | Key? | Definition | Storage | Stats target 
---------+------+------+------------+---------+--------------
 user_id | uuid | yes  | user_id    | plain   | 
btree, for table "synapscale_db.message_feedbacks"

        Index "synapscale_db.ix_public_agents_workspace_id"
    Column    | Type | Key? |  Definition  | Storage | Stats target 
--------------+------+------+--------------+---------+--------------
 workspace_id | uuid | yes  | workspace_id | plain   | 
btree, for table "synapscale_db.agents"

Index "synapscale_db.ix_public_analytics_dashboards_user_id"
 Column  | Type | Key? | Definition | Storage | Stats target 
---------+------+------+------------+---------+--------------
 user_id | uuid | yes  | user_id    | plain   | 
btree, for table "synapscale_db.analytics_dashboards"

 Index "synapscale_db.ix_public_analytics_dashboards_workspace_id"
    Column    | Type | Key? |  Definition  | Storage | Stats target 
--------------+------+------+--------------+---------+--------------
 workspace_id | uuid | yes  | workspace_id | plain   | 
btree, for table "synapscale_db.analytics_dashboards"

            Index "synapscale_db.ix_public_analytics_events_action"
 Column |          Type          | Key? | Definition | Storage  | Stats target 
--------+------------------------+------+------------+----------+--------------
 action | character varying(100) | yes  | action     | extended | 
btree, for table "synapscale_db.analytics_events"

             Index "synapscale_db.ix_public_analytics_events_anonymous_id"
    Column    |          Type          | Key? |  Definition  | Storage  | Stats target 
--------------+------------------------+------+--------------+----------+--------------
 anonymous_id | character varying(100) | yes  | anonymous_id | extended | 
btree, for table "synapscale_db.analytics_events"

           Index "synapscale_db.ix_public_analytics_events_category"
  Column  |         Type          | Key? | Definition | Storage  | Stats target 
----------+-----------------------+------+------------+----------+--------------
 category | character varying(50) | yes  | category   | extended | 
btree, for table "synapscale_db.analytics_events"

           Index "synapscale_db.ix_public_analytics_events_event_id"
  Column  |         Type          | Key? | Definition | Storage  | Stats target 
----------+-----------------------+------+------------+----------+--------------
 event_id | character varying(36) | yes  | event_id   | extended | 
unique, btree, for table "synapscale_db.analytics_events"

            Index "synapscale_db.ix_public_analytics_events_label"
 Column |          Type          | Key? | Definition | Storage  | Stats target 
--------+------------------------+------+------------+----------+--------------
 label  | character varying(200) | yes  | label      | extended | 
btree, for table "synapscale_db.analytics_events"

  Index "synapscale_db.ix_public_analytics_events_project_id"
   Column   | Type | Key? | Definition | Storage | Stats target 
------------+------+------+------------+---------+--------------
 project_id | uuid | yes  | project_id | plain   | 
btree, for table "synapscale_db.analytics_events"

   Index "synapscale_db.ix_public_analytics_events_workflow_id"
   Column    | Type | Key? | Definition  | Storage | Stats target 
-------------+------+------+-------------+---------+--------------
 workflow_id | uuid | yes  | workflow_id | plain   | 
btree, for table "synapscale_db.analytics_events"

   Index "synapscale_db.ix_public_analytics_events_workspace_id"
    Column    | Type | Key? |  Definition  | Storage | Stats target 
--------------+------+------+--------------+---------+--------------
 workspace_id | uuid | yes  | workspace_id | plain   | 
btree, for table "synapscale_db.analytics_events"

             Index "synapscale_db.ix_public_business_metrics_date"
 Column |           Type           | Key? | Definition | Storage | Stats target 
--------+--------------------------+------+------------+---------+--------------
 date   | timestamp with time zone | yes  | date       | plain   | 
btree, for table "synapscale_db.business_metrics"

      Index "synapscale_db.ix_public_business_metrics_id"
 Column |  Type   | Key? | Definition | Storage | Stats target 
--------+---------+------+------------+---------+--------------
 id     | integer | yes  | id         | plain   | 
btree, for table "synapscale_db.business_metrics"

  Index "synapscale_db.ix_public_component_downloads_component_id"
    Column    | Type | Key? |  Definition  | Storage | Stats target 
--------------+------+------+--------------+---------+--------------
 component_id | uuid | yes  | component_id | plain   | 
btree, for table "synapscale_db.component_downloads"

 Index "synapscale_db.ix_public_component_downloads_user_id"
 Column  | Type | Key? | Definition | Storage | Stats target 
---------+------+------+------------+---------+--------------
 user_id | uuid | yes  | user_id    | plain   | 
btree, for table "synapscale_db.component_downloads"

  Index "synapscale_db.ix_public_component_purchases_component_id"
    Column    | Type | Key? |  Definition  | Storage | Stats target 
--------------+------+------+--------------+---------+--------------
 component_id | uuid | yes  | component_id | plain   | 
btree, for table "synapscale_db.component_purchases"

 Index "synapscale_db.ix_public_component_purchases_user_id"
 Column  | Type | Key? | Definition | Storage | Stats target 
---------+------+------+------------+---------+--------------
 user_id | uuid | yes  | user_id    | plain   | 
btree, for table "synapscale_db.component_purchases"

   Index "synapscale_db.ix_public_component_ratings_component_id"
    Column    | Type | Key? |  Definition  | Storage | Stats target 
--------------+------+------+--------------+---------+--------------
 component_id | uuid | yes  | component_id | plain   | 
btree, for table "synapscale_db.component_ratings"

  Index "synapscale_db.ix_public_component_ratings_user_id"
 Column  | Type | Key? | Definition | Storage | Stats target 
---------+------+------+------------+---------+--------------
 user_id | uuid | yes  | user_id    | plain   | 
btree, for table "synapscale_db.component_ratings"

  Index "synapscale_db.ix_public_component_versions_component_id"
    Column    | Type | Key? |  Definition  | Storage | Stats target 
--------------+------+------+--------------+---------+--------------
 component_id | uuid | yes  | component_id | plain   | 
btree, for table "synapscale_db.component_versions"

            Index "synapscale_db.ix_public_custom_reports_category"
  Column  |         Type          | Key? | Definition | Storage  | Stats target 
----------+-----------------------+------+------------+----------+--------------
 category | character varying(50) | yes  | category   | extended | 
btree, for table "synapscale_db.custom_reports"

   Index "synapscale_db.ix_public_custom_reports_user_id"
 Column  | Type | Key? | Definition | Storage | Stats target 
---------+------+------+------------+---------+--------------
 user_id | uuid | yes  | user_id    | plain   | 
btree, for table "synapscale_db.custom_reports"

    Index "synapscale_db.ix_public_custom_reports_workspace_id"
    Column    | Type | Key? |  Definition  | Storage | Stats target 
--------------+------+------+--------------+---------+--------------
 workspace_id | uuid | yes  | workspace_id | plain   | 
btree, for table "synapscale_db.custom_reports"

           Index "synapscale_db.ix_public_execution_metrics_context"
 Column  |          Type          | Key? | Definition | Storage  | Stats target 
---------+------------------------+------+------------+----------+--------------
 context | character varying(255) | yes  | context    | extended | 
btree, for table "synapscale_db.workflow_execution_metrics"

     Index "synapscale_db.ix_public_execution_metrics_id"
 Column |  Type   | Key? | Definition | Storage | Stats target 
--------+---------+------+------------+---------+--------------
 id     | integer | yes  | id         | plain   | 
btree, for table "synapscale_db.workflow_execution_metrics"

            Index "synapscale_db.ix_public_execution_metrics_measured_at"
   Column    |           Type           | Key? | Definition  | Storage | Stats target 
-------------+--------------------------+------+-------------+---------+--------------
 measured_at | timestamp with time zone | yes  | measured_at | plain   | 
btree, for table "synapscale_db.workflow_execution_metrics"

            Index "synapscale_db.ix_public_execution_metrics_metric_name"
   Column    |          Type          | Key? | Definition  | Storage  | Stats target 
-------------+------------------------+------+-------------+----------+--------------
 metric_name | character varying(255) | yes  | metric_name | extended | 
btree, for table "synapscale_db.workflow_execution_metrics"

            Index "synapscale_db.ix_public_execution_metrics_metric_type"
   Column    |          Type          | Key? | Definition  | Storage  | Stats target 
-------------+------------------------+------+-------------+----------+--------------
 metric_type | character varying(100) | yes  | metric_type | extended | 
btree, for table "synapscale_db.workflow_execution_metrics"

       Index "synapscale_db.ix_public_execution_metrics_node_execution_id"
      Column       |  Type   | Key? |    Definition     | Storage | Stats target 
-------------------+---------+------+-------------------+---------+--------------
 node_execution_id | integer | yes  | node_execution_id | plain   | 
btree, for table "synapscale_db.workflow_execution_metrics"

       Index "synapscale_db.ix_public_execution_metrics_workflow_execution_id"
        Column         | Type | Key? |      Definition       | Storage | Stats target 
-----------------------+------+------+-----------------------+---------+--------------
 workflow_execution_id | uuid | yes  | workflow_execution_id | plain   | 
btree, for table "synapscale_db.workflow_execution_metrics"

      Index "synapscale_db.ix_public_execution_queue_id"
 Column |  Type   | Key? | Definition | Storage | Stats target 
--------+---------+------+------------+---------+--------------
 id     | integer | yes  | id         | plain   | 
btree, for table "synapscale_db.workflow_execution_queue"

    Index "synapscale_db.ix_public_execution_queue_priority"
  Column  |  Type   | Key? | Definition | Storage | Stats target 
----------+---------+------+------------+---------+--------------
 priority | integer | yes  | priority   | plain   | 
btree, for table "synapscale_db.workflow_execution_queue"

            Index "synapscale_db.ix_public_execution_queue_queue_id"
  Column  |         Type          | Key? | Definition | Storage  | Stats target 
----------+-----------------------+------+------------+----------+--------------
 queue_id | character varying(36) | yes  | queue_id   | extended | 
unique, btree, for table "synapscale_db.workflow_execution_queue"

              Index "synapscale_db.ix_public_execution_queue_scheduled_at"
    Column    |           Type           | Key? |  Definition  | Storage | Stats target 
--------------+--------------------------+------+--------------+---------+--------------
 scheduled_at | timestamp with time zone | yes  | scheduled_at | plain   | 
btree, for table "synapscale_db.workflow_execution_queue"

